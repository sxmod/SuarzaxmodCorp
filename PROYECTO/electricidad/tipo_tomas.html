<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tipos de Tomas</title>
    <style>
        :root {
            --primary-color: #3f51b5;
            --secondary-color: #303f9f;
            --accent-color: #ff4081;
            --text-color: #333;
            --bg-color: #f5f5f5;
            --card-color: #fff;
            --border-color: #ddd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .header-banner {
            width: 100%;
            height: 200px;
            object-fit: cover;
            opacity: 0.3;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .category-card {
            background-color: var(--card-color);
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .category-card h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        .subcategory {
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .subcategory:hover {
            background-color: #e8eaf6;
            transform: scale(1.02);
        }

        .subcategory::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background-color: var(--accent-color);
            transition: width 0.3s ease;
        }

        .subcategory:hover::after {
            width: 100%;
        }

        .subcategory h3 {
            color: var(--secondary-color);
            margin-bottom: 5px;
            font-size: 1.2rem;
        }

        .subcategory p {
            font-size: 0.9rem;
            color: #666;
        }

        /* Banner para subcategor√≠as */
        .subcategory-banner {
            width: 100%;
            height: 120px;
            background-size: cover;
            background-position: center;
            border-radius: 5px;
            margin-bottom: 10px;
            transition: transform 0.3s ease;
            overflow: hidden;
        }

        .subcategory:hover .subcategory-banner {
            transform: scale(1.05);
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 30px;
            width: 80%;
            max-width: 900px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalopen 0.4s;
        }

        @keyframes modalopen {
            from {opacity: 0; transform: translateY(-60px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #777;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #333;
        }

        .modal-header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: var(--primary-color);
            font-size: 2rem;
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-body h3 {
            color: var(--secondary-color);
            margin: 20px 0 10px;
            font-size: 1.4rem;
        }

        .modal-body p {
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .info-box {
            background-color: #e8eaf6;
            padding: 15px;
            border-left: 4px solid var(--primary-color);
            margin: 20px 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: transform 0.3s ease;
        }

        .info-box:hover {
            transform: translateX(5px);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th, .comparison-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .comparison-table th {
            background-color: #f2f2f2;
            color: var(--secondary-color);
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .comparison-table tr:hover {
            background-color: #e8eaf6;
        }

        .example {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }

        .example h4 {
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .diagram {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .banner-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
            margin: 20px 0;
        }

        /* Elementos interactivos */
        .tabs {
            display: flex;
            margin: 20px 0;
            border-bottom: 1px solid #ddd;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
            transition: all 0.3s ease;
        }

        .tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab:hover:not(.active) {
            background-color: #e0e0e0;
        }

        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .accordion {
            margin: 20px 0;
        }

        .accordion-item {
            border: 1px solid #ddd;
            margin-bottom: 5px;
        }

        .accordion-header {
            padding: 15px;
            background-color: #f5f5f5;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .accordion-header:hover {
            background-color: #e0e0e0;
        }

        .accordion-header::after {
            content: '+';
            font-size: 1.5rem;
        }

        .accordion-item.active .accordion-header::after {
            content: '-';
        }

        .accordion-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }

        .accordion-item.active .accordion-content {
            padding: 15px;
            max-height: 1000px;
        }

        /* Calculadora interactiva */
        .calculator {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .calculator h4 {
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .calculator-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .calculator-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            grid-column: span 2;
        }

        .calculator-btn:hover {
            background-color: var(--secondary-color);
        }

        .calculator-result {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8eaf6;
            border-left: 4px solid var(--primary-color);
            display: none;
        }

        /* Visualizaci√≥n interactiva */
        .interactive-visual {
            width: 100%;
            height: 300px;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }

        .circuit-element {
            position: absolute;
            transition: all 0.3s ease;
        }

        .circuit-wire {
            height: 5px;
            background-color: #333;
        }

        .circuit-component {
            width: 50px;
            height: 50px;
            background-color: #fff;
            border: 2px solid #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .circuit-ground {
            width: 60px;
            height: 30px;
            background-color: transparent;
            border-top: 3px solid #333;
            position: relative;
        }

        .circuit-ground::before,
        .circuit-ground::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 3px;
            background-color: #333;
            left: 10px;
        }

        .circuit-ground::before {
            top: 8px;
        }

        .circuit-ground::after {
            top: 16px;
            width: 20px;
            left: 20px;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros, .cons {
            padding: 15px;
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .pros:hover, .cons:hover {
            transform: translateY(-5px);
        }

        .pros {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
        }

        .cons {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
        }

        .pros h4, .cons h4 {
            margin-bottom: 10px;
            color: var(--text-color);
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 8px;
        }

        @media (max-width: 768px) {
            .categories {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                padding: 15px;
                margin: 20px auto;
            }

            .pros-cons {
                grid-template-columns: 1fr;
            }

            .calculator-form {
                grid-template-columns: 1fr;
            }

            .calculator-btn {
                grid-column: span 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31" alt="Banner de sistemas el√©ctricos" class="header-banner">
            <div class="header-content">
                <h1>Tipos de Tomas</h1>
                <p class="subtitle">Sistemas de puesta a tierra, potencia y protecci√≥n</p>
            </div>
        </header>

        <div class="categories">
            <div class="category-card">
                <h2>Sistemas de Seguridad El√©ctrica</h2>
                
                <div class="subcategory" onclick="openModal('tierra')">
                    <div class="subcategory-banner" style="background-image: url('https://images.unsplash.com/photo-1605719126983-1f77d6793696')"></div>
                    <h3>Tipos de Sistemas de Puesta a Tierra</h3>
                    <p>M√©todos de conexi√≥n a tierra y protecci√≥n contra descargas el√©ctricas.</p>
                </div>
                
                <div class="subcategory" onclick="openModal('potencia')">
                    <div class="subcategory-banner" style="background-image: url('https://images.unsplash.com/photo-1518770660439-4636190af475')"></div>
                    <h3>Sistemas de Ecuaciones de Potencias</h3>
                    <p>C√°lculos y balances de potencia en sistemas el√©ctricos.</p>
                </div>
                
                <div class="subcategory" onclick="openModal('cortocircuito')">
                    <div class="subcategory-banner" style="background-image: url('https://images.unsplash.com/photo-1504890001746-a9a68eda46e2')"></div>
                    <h3>Cortocircuitos</h3>
                    <p>Causas, efectos y protecciones contra cortocircuitos en instalaciones.</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>¬© 2025 - Sistemas El√©ctricos y Protecciones</p>
        </footer>
    </div>

    <!-- Modales para cada subcategor√≠a -->
    
    <!-- Tipos de Sistemas de Puesta a Tierra -->
    <div id="tierra" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('tierra')">&times;</span>
            <div class="modal-header">
                <h2>Tipos de Sistemas de Puesta a Tierra</h2>
            </div>
            <div class="modal-body">
                <img src="https://images.unsplash.com/photo-1605719126983-1f77d6793696" alt="Sistema de puesta a tierra con electrodos" class="banner-image">
                
                <p>Los sistemas de puesta a tierra son fundamentales para la seguridad de las instalaciones el√©ctricas. Su principal funci√≥n es proporcionar un camino de baja impedancia para las corrientes de falla, protegiendo as√≠ a las personas y equipos contra descargas el√©ctricas y sobretensiones.</p>
                
                <div class="tabs">
                    <div class="tab active" onclick="changeTab('tab1', this)">Conceptos B√°sicos</div>
                    <div class="tab" onclick="changeTab('tab2', this)">Tipos de Sistemas</div>
                    <div class="tab" onclick="changeTab('tab3', this)">Normativas</div>
                    <div class="tab" onclick="changeTab('tab4', this)">Mediciones</div>
                </div>
                
                <div id="tab1" class="tab-content active">
                    <h3>Conceptos Fundamentales</h3>
                    
                    <p>Un sistema de puesta a tierra consiste en la conexi√≥n de equipos el√©ctricos y electr√≥nicos a tierra, para evitar que un usuario pueda entrar en contacto con una tensi√≥n peligrosa si se produce un fallo de aislamiento en los conductores activos.</p>
                    
                    <div class="info-box">
                        <p><strong>Definici√≥n:</strong> La puesta a tierra es la conexi√≥n el√©ctrica directa de todas las partes met√°licas de una instalaci√≥n, sin fusibles ni otros sistemas de protecci√≥n, mediante un conductor de secci√≥n adecuada y uno o varios electrodos enterrados en el suelo.</p>
                    </div>
                    
                    <h4>Objetivos de la Puesta a Tierra</h4>
                    <ul>
                        <li>Garantizar la seguridad de las personas</li>
                        <li>Proteger las instalaciones el√©ctricas</li>
                        <li>Mejorar la calidad del servicio</li>
                        <li>Establecer un potencial de referencia</li>
                        <li>Facilitar la detecci√≥n de fallos a tierra</li>
                    </ul>
                    
                    <div class="interactive-visual">
                        <div class="circuit-wire" style="width: 100px; top: 150px; left: 50px;"></div>
                        <div class="circuit-component" style="top: 125px; left: 150px;">R</div>
                        <div class="circuit-wire" style="width: 100px; top: 150px; left: 200px;"></div>
                        <div class="circuit-component" style="top: 125px; left: 300px;">Z</div>
                        <div class="circuit-wire" style="width: 5px; height: 100px; top: 175px; left: 300px;"></div>
                        <div class="circuit-ground" style="top: 275px; left: 270px;"></div>
                    </div>
                </div>
                
                <div id="tab2" class="tab-content">
                    <h3>Tipos de Sistemas de Puesta a Tierra</h3>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Sistema TT (Tierra-Tierra)</div>
                            <div class="accordion-content">
                                <p>En el sistema TT, el neutro del transformador est√° conectado directamente a tierra, y las masas de la instalaci√≥n receptora est√°n conectadas a una toma de tierra separada de la toma de tierra de la alimentaci√≥n.</p>
                                
                                <ul>
                                    <li><strong>Caracter√≠sticas:</strong> Sencillo, econ√≥mico, mantenimiento m√≠nimo</li>
                                    <li><strong>Protecci√≥n:</strong> Mediante dispositivos diferenciales</li>
                                    <li><strong>Aplicaciones:</strong> Instalaciones dom√©sticas, peque√±os comercios</li>
                                </ul>
                                
                                <img src="/placeholder.svg?height=200&width=400&text=Sistema+TT" alt="Diagrama de sistema TT" class="diagram">
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Sistema TN (Tierra-Neutro)</div>
                            <div class="accordion-content">
                                <p>En el sistema TN, el neutro del transformador est√° conectado directamente a tierra, y las masas de la instalaci√≥n receptora est√°n conectadas al neutro.</p>
                                
                                <h4>Variantes del sistema TN:</h4>
                                
                                <ul>
                                    <li><strong>TN-C:</strong> Conductor neutro y de protecci√≥n combinados (PEN)</li>
                                    <li><strong>TN-S:</strong> Conductor neutro y de protecci√≥n separados (PE y N)</li>
                                    <li><strong>TN-C-S:</strong> Combinaci√≥n de ambos sistemas</li>
                                </ul>
                                
                                <p><strong>Aplicaciones:</strong> Instalaciones industriales, grandes edificios</p>
                                
                                <img src="/placeholder.svg?height=200&width=400&text=Sistema+TN" alt="Diagrama de sistema TN" class="diagram">
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Sistema IT (Aislado)</div>
                            <div class="accordion-content">
                                <p>En el sistema IT, el neutro del transformador est√° aislado de tierra o conectado a trav√©s de una impedancia de alto valor, y las masas de la instalaci√≥n receptora est√°n conectadas a tierra.</p>
                                
                                <ul>
                                    <li><strong>Caracter√≠sticas:</strong> Alta continuidad de servicio, primer fallo no provoca corte</li>
                                    <li><strong>Protecci√≥n:</strong> Mediante controladores permanentes de aislamiento (CPA)</li>
                                    <li><strong>Aplicaciones:</strong> Hospitales (quir√≥fanos), industrias con procesos cr√≠ticos, instalaciones donde la continuidad es prioritaria</li>
                                </ul>
                                
                                <img src="/placeholder.svg?height=200&width=400&text=Sistema+IT" alt="Diagrama de sistema IT" class="diagram">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tab3" class="tab-content">
                    <h3>Normativas y Reglamentaciones</h3>
                    
                    <p>Los sistemas de puesta a tierra est√°n regulados por diversas normativas internacionales y locales que establecen los requisitos m√≠nimos de seguridad:</p>
                    
                    <table class="comparison-table">
                        <tr>
                            <th>Normativa</th>
                            <th>√Åmbito</th>
                            <th>Aspectos Principales</th>
                        </tr>
                        <tr>
                            <td>IEC 60364</td>
                            <td>Internacional</td>
                            <td>Instalaciones el√©ctricas de baja tensi√≥n</td>
                        </tr>
                        <tr>
                            <td>IEEE 80</td>
                            <td>Internacional</td>
                            <td>Dise√±o de sistemas de puesta a tierra en subestaciones</td>
                        </tr>
                        <tr>
                            <td>IEEE 142</td>
                            <td>Internacional</td>
                            <td>Puesta a tierra de sistemas industriales y comerciales</td>
                        </tr>
                        <tr>
                            <td>REBT (Espa√±a)</td>
                            <td>Nacional</td>
                            <td>Reglamento Electrot√©cnico para Baja Tensi√≥n</td>
                        </tr>
                        <tr>
                            <td>NEC (EE.UU.)</td>
                            <td>Nacional</td>
                            <td>National Electrical Code, Art√≠culo 250</td>
                        </tr>
                    </table>
                    
                    <div class="info-box">
                        <p><strong>Importante:</strong> Las normativas establecen valores m√°ximos de resistencia de puesta a tierra seg√∫n el tipo de instalaci√≥n:</p>
                        <ul>
                            <li>Edificios residenciales: ‚â§ 25 Œ©</li>
                            <li>Edificios con pararrayos: ‚â§ 10 Œ©</li>
                            <li>Instalaciones sensibles: ‚â§ 5 Œ©</li>
                            <li>Instalaciones de telecomunicaciones: ‚â§ 2 Œ©</li>
                        </ul>
                    </div>
                </div>
                
                <div id="tab4" class="tab-content">
                    <h3>Mediciones y Mantenimiento</h3>
                    
                    <p>La medici√≥n peri√≥dica de la resistencia de puesta a tierra es fundamental para garantizar la efectividad del sistema:</p>
                    
                    <h4>M√©todos de Medici√≥n</h4>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de Ca√≠da de Potencial (3 Puntos)</div>
                            <div class="accordion-content">
                                <p>Es el m√©todo m√°s com√∫n y preciso para medir la resistencia de puesta a tierra.</p>
                                
                                <ol>
                                    <li>Se coloca una pica auxiliar de corriente (C) a una distancia considerable</li>
                                    <li>Se coloca una pica auxiliar de potencial (P) a diferentes distancias</li>
                                    <li>Se mide la resistencia y se grafica para encontrar la meseta</li>
                                </ol>
                                
                                <img src="/placeholder.svg?height=200&width=400&text=M√©todo+de+Ca√≠da+de+Potencial" alt="Diagrama del m√©todo de ca√≠da de potencial" class="diagram">
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de la Pinza de Tierra</div>
                            <div class="accordion-content">
                                <p>Permite medir la resistencia sin desconectar el electrodo ni utilizar picas auxiliares.</p>
                                
                                <ul>
                                    <li><strong>Ventajas:</strong> R√°pido, no invasivo</li>
                                    <li><strong>Limitaciones:</strong> Requiere un circuito cerrado de tierra</li>
                                    <li><strong>Aplicaciones:</strong> Ideal para sistemas con m√∫ltiples tomas de tierra en paralelo</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <h4>Calculadora de Resistencia de Puesta a Tierra</h4>
                    
                    <div class="calculator">
                        <h4>C√°lculo para Electrodo Vertical</h4>
                        <div class="calculator-form">
                            <div class="form-group">
                                <label for="resistivity">Resistividad del terreno (Œ©¬∑m):</label>
                                <input type="number" id="resistivity" min="1" value="100">
                            </div>
                            <div class="form-group">
                                <label for="length">Longitud del electrodo (m):</label>
                                <input type="number" id="length" min="0.5" step="0.5" value="2.5">
                            </div>
                            <div class="form-group">
                                <label for="radius">Radio del electrodo (mm):</label>
                                <input type="number" id="radius" min="5" value="10">
                            </div>
                            <button class="calculator-btn" onclick="calculateGroundResistance()">Calcular Resistencia</button>
                        </div>
                        <div id="ground-result" class="calculator-result"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sistemas de Ecuaciones de Potencias -->
    <div id="potencia" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('potencia')">&times;</span>
            <div class="modal-header">
                <h2>Sistemas de Ecuaciones de Potencias</h2>
            </div>
            <div class="modal-body">
                <img src="https://images.unsplash.com/photo-1518770660439-4636190af475" alt="Sistemas de potencia el√©ctrica" class="banner-image">
                
                <p>Los sistemas de ecuaciones de potencias son fundamentales para el an√°lisis, dise√±o y operaci√≥n de sistemas el√©ctricos. Permiten calcular flujos de potencia, p√©rdidas, ca√≠das de tensi√≥n y otros par√°metros esenciales para garantizar un suministro el√©ctrico eficiente y confiable.</p>
                
                <div class="tabs">
                    <div class="tab active" onclick="changeTab('potencia-tab1', this)">Conceptos B√°sicos</div>
                    <div class="tab" onclick="changeTab('potencia-tab2', this)">Tipos de Potencia</div>
                    <div class="tab" onclick="changeTab('potencia-tab3', this)">Flujo de Potencia</div>
                    <div class="tab" onclick="changeTab('potencia-tab4', this)">Calculadoras</div>
                </div>
                
                <div id="potencia-tab1" class="tab-content active">
                    <h3>Conceptos Fundamentales de Potencia El√©ctrica</h3>
                    
                    <p>La potencia el√©ctrica es la cantidad de energ√≠a por unidad de tiempo que se transfiere o consume en un circuito el√©ctrico. En sistemas de corriente alterna (AC), existen diferentes tipos de potencia que deben considerarse.</p>
                    
                    <div class="info-box">
                        <p><strong>Ecuaci√≥n fundamental:</strong> En un sistema monof√°sico, la potencia instant√°nea se expresa como:</p>
                        <p style="text-align: center; font-size: 1.2em;">p(t) = v(t) √ó i(t)</p>
                        <p>Donde v(t) es la tensi√≥n instant√°nea e i(t) es la corriente instant√°nea.</p>
                    </div>
                    
                    <h4>Tri√°ngulo de Potencias</h4>
                    
                    <p>El tri√°ngulo de potencias es una representaci√≥n gr√°fica de la relaci√≥n entre los diferentes tipos de potencia en un sistema AC:</p>
                    
                    <div class="interactive-visual" id="power-triangle" style="height: 250px;">
                        <!-- El tri√°ngulo de potencias se dibujar√° con JavaScript -->
                    </div>
                    
                    <ul>
                        <li><strong>Potencia Activa (P):</strong> Potencia √∫til que realiza trabajo (W, kW, MW)</li>
                        <li><strong>Potencia Reactiva (Q):</strong> Potencia que oscila entre la fuente y la carga (VAr, kVAr, MVAr)</li>
                        <li><strong>Potencia Aparente (S):</strong> Potencia total suministrada (VA, kVA, MVA)</li>
                        <li><strong>Factor de Potencia (cos œÜ):</strong> Relaci√≥n entre potencia activa y aparente</li>
                    </ul>
                </div>
                
                <div id="potencia-tab2" class="tab-content">
                    <h3>Tipos de Potencia y sus Ecuaciones</h3>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Potencia en Sistemas Monof√°sicos</div>
                            <div class="accordion-content">
                                <p>En un sistema monof√°sico con tensi√≥n y corriente senoidales:</p>
                                
                                <table class="comparison-table">
                                    <tr>
                                        <th>Tipo de Potencia</th>
                                        <th>Ecuaci√≥n</th>
                                        <th>Unidades</th>
                                    </tr>
                                    <tr>
                                        <td>Potencia Activa (P)</td>
                                        <td>P = V √ó I √ó cos œÜ</td>
                                        <td>Watts (W)</td>
                                    </tr>
                                    <tr>
                                        <td>Potencia Reactiva (Q)</td>
                                        <td>Q = V √ó I √ó sin œÜ</td>
                                        <td>Volt-Amperes Reactivos (VAr)</td>
                                    </tr>
                                    <tr>
                                        <td>Potencia Aparente (S)</td>
                                        <td>S = V √ó I</td>
                                        <td>Volt-Amperes (VA)</td>
                                    </tr>
                                    <tr>
                                        <td>Factor de Potencia (FP)</td>
                                        <td>FP = cos œÜ = P/S</td>
                                        <td>Adimensional</td>
                                    </tr>
                                </table>
                                
                                <p>Donde:</p>
                                <ul>
                                    <li>V: Tensi√≥n eficaz (RMS)</li>
                                    <li>I: Corriente eficaz (RMS)</li>
                                    <li>œÜ: √Ångulo de desfase entre tensi√≥n y corriente</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Potencia en Sistemas Trif√°sicos Equilibrados</div>
                            <div class="accordion-content">
                                <p>En un sistema trif√°sico equilibrado:</p>
                                
                                <table class="comparison-table">
                                    <tr>
                                        <th>Tipo de Potencia</th>
                                        <th>Ecuaci√≥n (Conexi√≥n Estrella)</th>
                                        <th>Ecuaci√≥n (Conexi√≥n Tri√°ngulo)</th>
                                    </tr>
                                    <tr>
                                        <td>Potencia Activa (P)</td>
                                        <td>P = ‚àö3 √ó VL √ó IL √ó cos œÜ</td>
                                        <td>P = ‚àö3 √ó VL √ó IL √ó cos œÜ</td>
                                    </tr>
                                    <tr>
                                        <td>Potencia Reactiva (Q)</td>
                                        <td>Q = ‚àö3 √ó VL √ó IL √ó sin œÜ</td>
                                        <td>Q = ‚àö3 √ó VL √ó IL √ó sin œÜ</td>
                                    </tr>
                                    <tr>
                                        <td>Potencia Aparente (S)</td>
                                        <td>S = ‚àö3 √ó VL √ó IL</td>
                                        <td>S = ‚àö3 √ó VL √ó IL</td>
                                    </tr>
                                </table>
                                
                                <p>Donde:</p>
                                <ul>
                                    <li>VL: Tensi√≥n de l√≠nea</li>
                                    <li>IL: Corriente de l√≠nea</li>
                                    <li>œÜ: √Ångulo de desfase entre tensi√≥n y corriente de fase</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Potencia Compleja y Notaci√≥n Fasorial</div>
                            <div class="accordion-content">
                                <p>La potencia compleja (S) combina la potencia activa y reactiva en un n√∫mero complejo:</p>
                                
                                <div class="info-box">
                                    <p style="text-align: center; font-size: 1.2em;">S = P + jQ</p>
                                    <p>Donde j es el operador imaginario (‚àö-1).</p>
                                </div>
                                
                                <p>Esta notaci√≥n facilita los c√°lculos en sistemas el√©ctricos complejos y permite representar:</p>
                                <ul>
                                    <li>Magnitud: |S| = ‚àö(P¬≤ + Q¬≤)</li>
                                    <li>√Ångulo: œÜ = tan‚Åª¬π(Q/P)</li>
                                </ul>
                                
                                <p>La potencia compleja es fundamental en el an√°lisis de flujos de potencia en redes el√©ctricas.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="potencia-tab3" class="tab-content">
                    <h3>Flujo de Potencia en Sistemas El√©ctricos</h3>
                    
                    <p>El an√°lisis de flujo de potencia (o flujo de carga) es una herramienta fundamental para estudiar el comportamiento de los sistemas el√©ctricos en r√©gimen permanente.</p>
                    
                    <h4>Ecuaciones de Flujo de Potencia</h4>
                    
                    <p>Para un sistema con n barras, las ecuaciones de flujo de potencia se expresan como:</p>
                    
                    <div class="info-box">
                        <p style="text-align: center; font-size: 1.1em;">P<sub>i</sub> = |V<sub>i</sub>| Œ£<sub>j=1</sub><sup>n</sup> |V<sub>j</sub>| |Y<sub>ij</sub>| cos(Œ∏<sub>ij</sub> - Œ¥<sub>i</sub> + Œ¥<sub>j</sub>)</p>
                        <p style="text-align: center; font-size: 1.1em;">Q<sub>i</sub> = |V<sub>i</sub>| Œ£<sub>j=1</sub><sup>n</sup> |V<sub>j</sub>| |Y<sub>ij</sub>| sin(Œ∏<sub>ij</sub> - Œ¥<sub>i</sub> + Œ¥<sub>j</sub>)</p>
                    </div>
                    
                    <p>Donde:</p>
                    <ul>
                        <li>P<sub>i</sub>, Q<sub>i</sub>: Potencias activa y reactiva inyectadas en la barra i</li>
                        <li>V<sub>i</sub>, Œ¥<sub>i</sub>: Magnitud y √°ngulo de la tensi√≥n en la barra i</li>
                        <li>Y<sub>ij</sub>, Œ∏<sub>ij</sub>: Magnitud y √°ngulo del elemento ij de la matriz de admitancias</li>
                    </ul>
                    
                    <h4>M√©todos de Resoluci√≥n</h4>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de Gauss-Seidel</div>
                            <div class="accordion-content">
                                <p>M√©todo iterativo basado en la resoluci√≥n secuencial de las ecuaciones:</p>
                                <ul>
                                    <li><strong>Ventajas:</strong> Simple implementaci√≥n, bajo requerimiento de memoria</li>
                                    <li><strong>Desventajas:</strong> Convergencia lenta, especialmente en sistemas mal condicionados</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de Newton-Raphson</div>
                            <div class="accordion-content">
                                <p>M√©todo basado en la linealizaci√≥n de las ecuaciones mediante series de Taylor:</p>
                                <ul>
                                    <li><strong>Ventajas:</strong> Convergencia cuadr√°tica, robusto</li>
                                    <li><strong>Desventajas:</strong> Mayor complejidad computacional, requiere c√°lculo de matriz jacobiana</li>
                                </ul>
                                <p>Es el m√©todo m√°s utilizado en la pr√°ctica para sistemas de potencia de tama√±o real.</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo Desacoplado R√°pido</div>
                            <div class="accordion-content">
                                <p>Variante optimizada del m√©todo de Newton-Raphson que aprovecha el desacoplamiento natural entre potencia activa-√°ngulo y potencia reactiva-tensi√≥n:</p>
                                <ul>
                                    <li><strong>Ventajas:</strong> Menor costo computacional, matrices constantes</li>
                                    <li><strong>Desventajas:</strong> Puede presentar problemas de convergencia en sistemas muy cargados</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="potencia-tab4" class="tab-content">
                    <h3>Calculadoras de Potencia</h3>
                    
                    <div class="calculator">
                        <h4>Calculadora de Factor de Potencia</h4>
                        <div class="calculator-form">
                            <div class="form-group">
                                <label for="active-power">Potencia Activa (kW):</label>
                                <input type="number" id="active-power" min="0" step="0.1" value="100">
                            </div>
                            <div class="form-group">
                                <label for="apparent-power">Potencia Aparente (kVA):</label>
                                <input type="number" id="apparent-power" min="0" step="0.1" value="125">
                            </div>
                            <button class="calculator-btn" onclick="calculatePowerFactor()">Calcular Factor de Potencia</button>
                        </div>
                        <div id="power-factor-result" class="calculator-result"></div>
                    </div>
                    
                    <div class="calculator">
                        <h4>Calculadora de Compensaci√≥n de Reactiva</h4>
                        <div class="calculator-form">
                            <div class="form-group">
                                <label for="power-kw">Potencia Activa (kW):</label>
                                <input type="number" id="power-kw" min="0" step="0.1" value="100">
                            </div>
                            <div class="form-group">
                                <label for="current-fp">Factor de Potencia Actual:</label>
                                <input type="number" id="current-fp" min="0" max="1" step="0.01" value="0.8">
                            </div>
                            <div class="form-group">
                                <label for="target-fp">Factor de Potencia Deseado:</label>
                                <input type="number" id="target-fp" min="0" max="1" step="0.01" value="0.95">
                            </div>
                            <button class="calculator-btn" onclick="calculateCapacitorBank()">Calcular Capacitores</button>
                        </div>
                        <div id="capacitor-result" class="calculator-result"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Cortocircuitos -->
    <div id="cortocircuito" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('cortocircuito')">&times;</span>
            <div class="modal-header">
                <h2>Cortocircuitos</h2>
            </div>
            <div class="modal-body">
                <img src="https://images.unsplash.com/photo-1504890001746-a9a68eda46e2" alt="Efectos de un cortocircuito en instalaci√≥n el√©ctrica" class="banner-image">
                
                <p>Un cortocircuito es una conexi√≥n de baja impedancia entre dos puntos de un circuito el√©ctrico que est√°n normalmente a diferentes potenciales, lo que provoca un flujo de corriente muy elevado. Este fen√≥meno puede causar da√±os graves en las instalaciones el√©ctricas y representar un riesgo para la seguridad si no se toman las medidas de protecci√≥n adecuadas.</p>
                
                <div class="tabs">
                    <div class="tab active" onclick="changeTab('cc-tab1', this)">Fundamentos</div>
                    <div class="tab" onclick="changeTab('cc-tab2', this)">Tipos y Causas</div>
                    <div class="tab" onclick="changeTab('cc-tab3', this)">C√°lculos</div>
                    <div class="tab" onclick="changeTab('cc-tab4', this)">Protecciones</div>
                </div>
                
                <div id="cc-tab1" class="tab-content active">
                    <h3>Fundamentos de los Cortocircuitos</h3>
                    
                    <div class="info-box">
                        <p><strong>Definici√≥n:</strong> Un cortocircuito es una conexi√≥n anormal de muy baja impedancia entre dos puntos de un circuito el√©ctrico con diferente potencial, que provoca una corriente anormalmente alta.</p>
                    </div>
                    
                    <h4>Caracter√≠sticas Principales</h4>
                    <ul>
                        <li><strong>Corriente elevada:</strong> Puede alcanzar valores de 10 a 30 veces la corriente nominal</li>
                        <li><strong>Duraci√≥n breve:</strong> Generalmente milisegundos hasta que act√∫an las protecciones</li>
                        <li><strong>Efectos t√©rmicos:</strong> Calentamiento extremo de conductores y equipos</li>
                        <li><strong>Efectos electrodin√°micos:</strong> Fuerzas mec√°nicas que pueden deformar conductores</li>
                    </ul>
                    
                    <div class="interactive-visual" id="short-circuit-animation">
                        <!-- Animaci√≥n interactiva de cortocircuito -->
                        <div class="circuit-wire" style="width: 100px; top: 50px; left: 50px;"></div>
                        <div class="circuit-component" style="top: 25px; left: 150px;">G</div>
                        <div class="circuit-wire" style="width: 100px; top: 50px; left: 200px;"></div>
                        <div class="circuit-component" style="top: 25px; left: 300px;">Z</div>
                        <div class="circuit-wire" style="width: 100px; top: 50px; left: 350px;"></div>
                        
                        <div class="circuit-wire" style="height: 100px; width: 5px; top: 50px; left: 400px;"></div>
                        <div class="circuit-wire" style="width: 300px; top: 150px; left: 100px;"></div>
                        
                        <div id="short-circuit-spark" style="position: absolute; top: 100px; left: 250px; color: red; font-size: 24px; display: none;">‚ö°</div>
                    </div>
                    
                    <button onclick="animateShortCircuit()" style="background-color: var(--primary-color); color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin-top: 10px;">Simular Cortocircuito</button>
                </div>
                
                <div id="cc-tab2" class="tab-content">
                    <h3>Tipos y Causas de Cortocircuitos</h3>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Tipos de Cortocircuitos</div>
                            <div class="accordion-content">
                                <h4>Seg√∫n las fases afectadas:</h4>
                                
                                <table class="comparison-table">
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Descripci√≥n</th>
                                        <th>Frecuencia</th>
                                    </tr>
                                    <tr>
                                        <td>Trif√°sico</td>
                                        <td>Contacto entre las tres fases</td>
                                        <td>5-10% de los casos</td>
                                    </tr>
                                    <tr>
                                        <td>Bif√°sico</td>
                                        <td>Contacto entre dos fases</td>
                                        <td>15-20% de los casos</td>
                                    </tr>
                                    <tr>
                                        <td>Bif√°sico a tierra</td>
                                        <td>Contacto entre dos fases y tierra</td>
                                        <td>10-15% de los casos</td>
                                    </tr>
                                    <tr>
                                        <td>Monof√°sico a tierra</td>
                                        <td>Contacto entre una fase y tierra</td>
                                        <td>60-70% de los casos</td>
                                    </tr>
                                </table>
                                
                                <h4>Seg√∫n su duraci√≥n:</h4>
                                <ul>
                                    <li><strong>Cortocircuito permanente:</strong> Requiere intervenci√≥n para su eliminaci√≥n</li>
                                    <li><strong>Cortocircuito transitorio:</strong> Se extingue por s√≠ solo o tras una breve interrupci√≥n</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Causas Comunes</div>
                            <div class="accordion-content">
                                <h4>Causas de origen interno:</h4>
                                <ul>
                                    <li><strong>Deterioro del aislamiento:</strong> Envejecimiento, sobrecalentamiento</li>
                                    <li><strong>Sobretensiones:</strong> Maniobras, resonancia</li>
                                    <li><strong>Fallos mec√°nicos:</strong> Rotura de conductores, aflojamiento de conexiones</li>
                                    <li><strong>Errores humanos:</strong> Durante mantenimiento o instalaci√≥n</li>
                                </ul>
                                
                                <h4>Causas de origen externo:</h4>
                                <ul>
                                    <li><strong>Fen√≥menos atmosf√©ricos:</strong> Rayos, viento, hielo</li>
                                    <li><strong>Animales:</strong> Contacto con l√≠neas a√©reas o equipos</li>
                                    <li><strong>Vegetaci√≥n:</strong> Contacto con l√≠neas a√©reas</li>
                                    <li><strong>Accidentes:</strong> Excavaciones, colisiones con postes</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Efectos y Consecuencias</div>
                            <div class="accordion-content">
                                <div class="pros-cons">
                                    <div class="cons">
                                        <h4>Efectos Inmediatos</h4>
                                        <ul>
                                            <li>Arcos el√©ctricos y posible incendio</li>
                                            <li>Sobrecalentamiento extremo de conductores</li>
                                            <li>Fuerzas electrodin√°micas que deforman componentes</li>
                                            <li>Ca√≠das de tensi√≥n en el sistema</li>
                                            <li>Interrupci√≥n del suministro el√©ctrico</li>
                                        </ul>
                                    </div>
                                    <div class="cons">
                                        <h4>Consecuencias a Largo Plazo</h4>
                                        <ul>
                                            <li>Da√±o permanente en equipos</li>
                                            <li>Degradaci√≥n acelerada de aislamientos</li>
                                            <li>P√©rdidas econ√≥micas por interrupci√≥n</li>
                                            <li>Posibles lesiones a personas</li>
                                            <li>Reducci√≥n de la vida √∫til de la instalaci√≥n</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="cc-tab3" class="tab-content">
                    <h3>C√°lculo de Corrientes de Cortocircuito</h3>
                    
                    <p>El c√°lculo de las corrientes de cortocircuito es fundamental para dimensionar adecuadamente las protecciones y verificar la resistencia t√©rmica y din√°mica de los componentes de la instalaci√≥n.</p>
                    
                    <h4>M√©todos de C√°lculo</h4>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de las Impedancias</div>
                            <div class="accordion-content">
                                <p>Se basa en determinar la impedancia equivalente del circuito hasta el punto de falla:</p>
                                
                                <div class="info-box">
                                    <p style="text-align: center; font-size: 1.2em;">I<sub>cc</sub> = V / Z<sub>eq</sub></p>
                                    <p>Donde:</p>
                                    <ul>
                                        <li>I<sub>cc</sub>: Corriente de cortocircuito</li>
                                        <li>V: Tensi√≥n nominal en el punto de falla</li>
                                        <li>Z<sub>eq</sub>: Impedancia equivalente hasta el punto de falla</li>
                                    </ul>
                                </div>
                                
                                <p>La impedancia equivalente incluye:</p>
                                <ul>
                                    <li>Impedancia de la red de alimentaci√≥n</li>
                                    <li>Impedancia de transformadores</li>
                                    <li>Impedancia de l√≠neas y cables</li>
                                    <li>Impedancia de motores (contribuci√≥n)</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo de las Potencias</div>
                            <div class="accordion-content">
                                <p>Utiliza las potencias de cortocircuito en lugar de impedancias:</p>
                                
                                <div class="info-box">
                                    <p style="text-align: center; font-size: 1.2em;">S<sub>cc</sub> = V¬≤ / Z<sub>eq</sub></p>
                                    <p style="text-align: center; font-size: 1.2em;">I<sub>cc</sub> = S<sub>cc</sub> / (‚àö3 √ó V)</p>
                                </div>
                                
                                <p>Este m√©todo es especialmente √∫til cuando se conoce la potencia de cortocircuito de la red de alimentaci√≥n.</p>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">M√©todo por Unidad (p.u.)</div>
                            <div class="accordion-content">
                                <p>Simplifica los c√°lculos mediante la normalizaci√≥n de todas las magnitudes:</p>
                                
                                <ol>
                                    <li>Se elige una potencia base S<sub>base</sub> y una tensi√≥n base V<sub>base</sub></li>
                                    <li>Se convierten todas las impedancias a valores p.u.</li>
                                    <li>Se suman las impedancias en p.u.</li>
                                    <li>Se calcula la corriente de cortocircuito</li>
                                </ol>
                                
                                <p>Este m√©todo facilita los c√°lculos en sistemas con m√∫ltiples niveles de tensi√≥n.</p>
                            </div>
                        </div>
                    </div>
                    
                    <h4>Calculadora de Corriente de Cortocircuito</h4>
                    
                    <div class="calculator">
                        <h4>C√°lculo Simplificado (M√©todo de las Impedancias)</h4>
                        <div class="calculator-form">
                            <div class="form-group">
                                <label for="voltage">Tensi√≥n nominal (V):</label>
                                <input type="number" id="voltage" min="100" value="400">
                            </div>
                            <div class="form-group">
                                <label for="transformer-power">Potencia del transformador (kVA):</label>
                                <input type="number" id="transformer-power" min="1" value="630">
                            </div>
                            <div class="form-group">
                                <label for="transformer-impedance">Impedancia del transformador (%):</label>
                                <input type="number" id="transformer-impedance" min="0.1" step="0.1" value="4">
                              id="transformer-impedance" min="0.1" step="0.1" value="4">
                            </div>
                            <div class="form-group">
                                <label for="cable-length">Longitud del cable (m):</label>
                                <input type="number" id="cable-length" min="1" value="50">
                            </div>
                            <div class="form-group">
                                <label for="cable-section">Secci√≥n del cable (mm¬≤):</label>
                                <input type="number" id="cable-section" min="1" value="25">
                            </div>
                            <button class="calculator-btn" onclick="calculateShortCircuit()">Calcular Corriente</button>
                        </div>
                        <div id="short-circuit-result" class="calculator-result"></div>
                    </div>
                </div>
                
                <div id="cc-tab4" class="tab-content">
                    <h3>Protecciones contra Cortocircuitos</h3>
                    
                    <p>Las protecciones contra cortocircuitos son dispositivos dise√±ados para detectar y eliminar r√°pidamente las corrientes de falla, minimizando los da√±os en la instalaci√≥n y garantizando la seguridad.</p>
                    
                    <div class="accordion">
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Fusibles</div>
                            <div class="accordion-content">
                                <p>Dispositivos de protecci√≥n basados en un elemento fusible que se funde cuando la corriente supera un valor determinado.</p>
                                
                                <h4>Tipos de fusibles:</h4>
                                <ul>
                                    <li><strong>gG:</strong> Uso general, protecci√≥n contra sobrecargas y cortocircuitos</li>
                                    <li><strong>aM:</strong> Acompa√±amiento de motores, protecci√≥n contra cortocircuitos</li>
                                    <li><strong>gR/aR:</strong> Protecci√≥n de semiconductores</li>
                                </ul>
                                
                                <h4>Caracter√≠sticas:</h4>
                                <ul>
                                    <li><strong>Poder de corte:</strong> Hasta 100 kA o m√°s</li>
                                    <li><strong>Limitaci√≥n de corriente:</strong> Act√∫an antes del primer pico de corriente</li>
                                    <li><strong>Simplicidad:</strong> Sin partes m√≥viles</li>
                                    <li><strong>Desventaja:</strong> Requieren reemplazo tras la operaci√≥n</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Interruptores Autom√°ticos</div>
                            <div class="accordion-content">
                                <p>Dispositivos mec√°nicos de maniobra capaces de establecer, soportar e interrumpir corrientes en condiciones normales y anormales.</p>
                                
                                <h4>Tipos seg√∫n mecanismo de disparo:</h4>
                                <ul>
                                    <li><strong>Magnetot√©rmicos:</strong> Combinan protecci√≥n t√©rmica (sobrecargas) y magn√©tica (cortocircuitos)</li>
                                    <li><strong>Electr√≥nicos:</strong> Con unidades de disparo electr√≥nicas programables</li>
                                </ul>
                                
                                <h4>Tipos seg√∫n aplicaci√≥n:</h4>
                                <ul>
                                    <li><strong>Interruptores modulares (MCB):</strong> Para instalaciones residenciales y peque√±o terciario</li>
                                    <li><strong>Interruptores de caja moldeada (MCCB):</strong> Para instalaciones comerciales e industriales</li>
                                    <li><strong>Interruptores de potencia (ACB):</strong> Para grandes instalaciones industriales</li>
                                </ul>
                                
                                <h4>Ventajas:</h4>
                                <ul>
                                    <li>Rearmables tras la operaci√≥n</li>
                                    <li>Combinan protecci√≥n contra sobrecargas y cortocircuitos</li>
                                    <li>Permiten maniobra manual</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <div class="accordion-header" onclick="toggleAccordion(this)">Rel√©s de Protecci√≥n</div>
                            <div class="accordion-content">
                                <p>Dispositivos que detectan condiciones anormales en el sistema el√©ctrico y ordenan la apertura de interruptores.</p>
                                
                                <h4>Tipos de rel√©s para protecci√≥n contra cortocircuitos:</h4>
                                <ul>
                                    <li><strong>Rel√©s de sobreintensidad (50/51):</strong> Detectan corrientes excesivas</li>
                                    <li><strong>Rel√©s direccionales (67):</strong> Sensibles a la direcci√≥n del flujo de corriente</li>
                                    <li><strong>Rel√©s diferenciales (87):</strong> Comparan corrientes entrantes y salientes</li>
                                    <li><strong>Rel√©s de distancia (21):</strong> Miden la impedancia hasta el punto de falla</li>
                                </ul>
                                
                                <h4>Caracter√≠sticas de los rel√©s modernos:</h4>
                                <ul>
                                    <li>Multifunci√≥n</li>
                                    <li>Comunicaci√≥n digital</li>
                                    <li>Registro de eventos</li>
                                    <li>Autodiagn√≥stico</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <h4>Selectividad de Protecciones</h4>
                    
                    <p>La selectividad es la coordinaci√≥n entre dispositivos de protecci√≥n para que solo act√∫e el m√°s cercano a la falla, minimizando la zona afectada.</p>
                    
                    <div class="interactive-visual" id="selectivity-diagram" style="height: 300px;">
                        <!-- Diagrama interactivo de selectividad -->
                        <div style="position: absolute; top: 20px; left: 50px; text-align: center;">
                            <div style="width: 60px; height: 30px; border: 2px solid #333; margin: 0 auto; background: #f5f5f5;">Q1</div>
                            <div style="width: 5px; height: 40px; background: #333; margin: 0 auto;"></div>
                        </div>
                        
                        <div style="position: absolute; top: 90px; left: 50px; text-align: center;">
                            <div style="width: 50px; height: 25px; border: 2px solid #333; margin: 0 auto; background: #f5f5f5;">Q2</div>
                            <div style="width: 5px; height: 40px; background: #333; margin: 0 auto;"></div>
                        </div>
                        
                        <div style="position: absolute; top: 155px; left: 50px; text-align: center;">
                            <div style="width: 40px; height: 20px; border: 2px solid #333; margin: 0 auto; background: #f5f5f5;">Q3</div>
                            <div style="width: 5px; height: 40px; background: #333; margin: 0 auto;"></div>
                        </div>
                        
                        <div style="position: absolute; top: 215px; left: 50px; text-align: center;">
                            <div style="width: 30px; height: 30px; border-radius: 50%; border: 2px solid #333; margin: 0 auto; background: #f5f5f5; display: flex; align-items: center; justify-content: center;">F</div>
                        </div>
                        
                        <div style="position: absolute; top: 100px; left: 150px; width: 200px;">
                            <p><strong>Selectividad:</strong></p>
                            <p>Al producirse un cortocircuito en F, solo debe actuar Q3, manteniendo el servicio en el resto de la instalaci√≥n.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Funci√≥n para abrir modal
        function openModal(id) {
            var modal = document.getElementById(id);
            if (modal) {
                modal.style.display = "block";
                document.body.style.overflow = "hidden"; // Evita el desplazamiento del fondo
            } else {
                console.error("Modal con ID " + id + " no encontrado");
            }
        }
        
        // Funci√≥n para cerrar modal
        function closeModal(id) {
            var modal = document.getElementById(id);
            if (modal) {
                modal.style.display = "none";
                document.body.style.overflow = "auto"; // Restaura el desplazamiento
            } else {
                console.error("Modal con ID " + id + " no encontrado");
            }
        }
        
        // Cerrar modal al hacer clic fuera del contenido
        window.onclick = function(event) {
            if (event.target.classList.contains("modal")) {
                event.target.style.display = "none";
                document.body.style.overflow = "auto";
            }
        }
        
        // Cerrar modal con la tecla Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                var modals = document.getElementsByClassName("modal");
                for (var i = 0; i < modals.length; i++) {
                    if (modals[i].style.display === "block") {
                        modals[i].style.display = "none";
                        document.body.style.overflow = "auto";
                    }
                }
            }
        });

        // Funci√≥n para cambiar de pesta√±a
        function changeTab(tabId, tabElement) {
            // Ocultar todos los contenidos de pesta√±as
            var tabContents = document.getElementsByClassName("tab-content");
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }
            
            // Desactivar todas las pesta√±as
            var tabs = tabElement.parentElement.getElementsByClassName("tab");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }
            
            // Activar la pesta√±a seleccionada y su contenido
            document.getElementById(tabId).classList.add("active");
            tabElement.classList.add("active");
        }
        
        // Funci√≥n para alternar acorde√≥n
        function toggleAccordion(header) {
            var item = header.parentElement;
            if (item.classList.contains("active")) {
                item.classList.remove("active");
            } else {
                item.classList.add("active");
            }
        }
        
        // Calculadora de resistencia de puesta a tierra
        function calculateGroundResistance() {
            var resistivity = parseFloat(document.getElementById("resistivity").value);
            var length = parseFloat(document.getElementById("length").value);
            var radius = parseFloat(document.getElementById("radius").value) / 1000; // Convertir a metros
            
            if (isNaN(resistivity) || isNaN(length) || isNaN(radius)) {
                alert("Por favor, ingrese valores num√©ricos v√°lidos.");
                return;
            }
            
            // F√≥rmula para electrodo vertical: R = (œÅ/2œÄL) * [ln(4L/r) - 1]
            var resistance = (resistivity / (2 * Math.PI * length)) * (Math.log(4 * length / radius) - 1);
            resistance = Math.round(resistance * 100) / 100; // Redondear a 2 decimales
            
            var resultDiv = document.getElementById("ground-result");
            resultDiv.innerHTML = "<strong>Resistencia de puesta a tierra:</strong> " + resistance + " Œ©";
            resultDiv.style.display = "block";
        }
        
        // Calculadora de factor de potencia
        function calculatePowerFactor() {
            var activePower = parseFloat(document.getElementById("active-power").value);
            var apparentPower = parseFloat(document.getElementById("apparent-power").value);
            
            if (isNaN(activePower) || isNaN(apparentPower)) {
                alert("Por favor, ingrese valores num√©ricos v√°lidos.");
                return;
            }
            
            if (apparentPower < activePower) {
                alert("La potencia aparente debe ser mayor o igual que la potencia activa.");
                return;
            }
            
            var powerFactor = activePower / apparentPower;
            var angle = Math.acos(powerFactor) * (180 / Math.PI);
            var reactivePower = Math.sqrt(Math.pow(apparentPower, 2) - Math.pow(activePower, 2));
            
            powerFactor = Math.round(powerFactor * 1000) / 1000;
            angle = Math.round(angle * 10) / 10;
            reactivePower = Math.round(reactivePower * 10) / 10;
            
            var resultDiv = document.getElementById("power-factor-result");
            resultDiv.innerHTML = "<strong>Factor de Potencia:</strong> " + powerFactor + 
                                 "<br><strong>√Ångulo œÜ:</strong> " + angle + "¬∞" +
                                 "<br><strong>Potencia Reactiva:</strong> " + reactivePower + " kVAr";
            resultDiv.style.display = "block";
        }
        
        // Calculadora de banco de capacitores
        function calculateCapacitorBank() {
            var powerKW = parseFloat(document.getElementById("power-kw").value);
            var currentFP = parseFloat(document.getElementById("current-fp").value);
            var targetFP = parseFloat(document.getElementById("target-fp").value);
            
            if (isNaN(powerKW) || isNaN(currentFP) || isNaN(targetFP)) {
                alert("Por favor, ingrese valores num√©ricos v√°lidos.");
                return;
            }
            
            if (currentFP >= targetFP) {
                alert("El factor de potencia objetivo debe ser mayor que el actual.");
                return;
            }
            
            var phi1 = Math.acos(currentFP);
            var phi2 = Math.acos(targetFP);
            
            var capacitorKVAr = powerKW * (Math.tan(phi1) - Math.tan(phi2));
            capacitorKVAr = Math.round(capacitorKVAr * 10) / 10;
            
            var resultDiv = document.getElementById("capacitor-result");
            resultDiv.innerHTML = "<strong>Potencia reactiva necesaria:</strong> " + capacitorKVAr + " kVAr";
            resultDiv.style.display = "block";
        }
        
        // Calculadora de corriente de cortocircuito
        function calculateShortCircuit() {
            var voltage = parseFloat(document.getElementById("voltage").value);
            var transformerPower = parseFloat(document.getElementById("transformer-power").value);
            var transformerImpedance = parseFloat(document.getElementById("transformer-impedance").value) / 100;
            var cableLength = parseFloat(document.getElementById("cable-length").value);
            var cableSection = parseFloat(document.getElementById("cable-section").value);
            
            if (isNaN(voltage) || isNaN(transformerPower) || isNaN(transformerImpedance) || 
                isNaN(cableLength) || isNaN(cableSection)) {
                alert("Por favor, ingrese valores num√©ricos v√°lidos.");
                return;
            }
            
            // Impedancia del transformador en ohmios
            var zTrafo = (voltage * voltage * transformerImpedance) / (transformerPower * 1000);
            
            // Impedancia del cable (aproximada, solo resistencia)
            var resistivityCopper = 0.0175; // Œ©¬∑mm¬≤/m
            var zCable = resistivityCopper * cableLength / cableSection;
            
            // Impedancia total
            var zTotal = zTrafo + zCable;
            
            // Corriente de cortocircuito trif√°sica
            var icc3 = voltage / (Math.sqrt(3) * zTotal);
            
            // Corriente de cortocircuito monof√°sica (aproximada)
            var icc1 = 0.8 * icc3;
            
            icc3 = Math.round(icc3);
            icc1 = Math.round(icc1);
            
            var resultDiv = document.getElementById("short-circuit-result");
            resultDiv.innerHTML = "<strong>Corriente de cortocircuito trif√°sica:</strong> " + icc3 + " A" +
                                 "<br><strong>Corriente de cortocircuito monof√°sica:</strong> " + icc1 + " A";
            resultDiv.style.display = "block";
        }
        
        // Animaci√≥n de cortocircuito
        function animateShortCircuit() {
            var spark = document.getElementById("short-circuit-spark");
            spark.style.display = "block";
            
            // Parpadeo
            var blinks = 0;
            var blinkInterval = setInterval(function() {
                spark.style.visibility = spark.style.visibility === "hidden" ? "visible" : "hidden";
                blinks++;
                
                if (blinks > 10) {
                    clearInterval(blinkInterval);
                    spark.style.display = "none";
                    spark.style.visibility = "visible";
                }
            }, 100);
        }
        
        // Dibujar tri√°ngulo de potencias
        document.addEventListener('DOMContentLoaded', function() {
            var powerTriangle = document.getElementById("power-triangle");
            if (powerTriangle) {
                // Crear elementos del tri√°ngulo
                var triangle = document.createElement("div");
                triangle.style.position = "absolute";
                triangle.style.top = "50px";
                triangle.style.left = "50px";
                triangle.style.width = "200px";
                triangle.style.height = "150px";
                triangle.style.border = "2px solid #333";
                triangle.style.borderTop = "none";
                triangle.style.borderRight = "none";
                triangle.style.position = "relative";
                
                // Hipotenusa
                var hypotenuse = document.createElement("div");
                hypotenuse.style.position = "absolute";
                hypotenuse.style.width = "250px";
                hypotenuse.style.height = "2px";
                hypotenuse.style.background = "#333";
                hypotenuse.style.top = "150px";
                hypotenuse.style.left = "0";
                hypotenuse.style.transformOrigin = "left bottom";
                hypotenuse.style.transform = "rotate(-37deg)";
                
                // Etiquetas
                var labelP = document.createElement("div");
                labelP.style.position = "absolute";
                labelP.style.bottom = "-25px";
                labelP.style.left = "90px";
                labelP.innerHTML = "P (Activa)";
                
                var labelQ = document.createElement("div");
                labelQ.style.position = "absolute";
                labelQ.style.left = "-25px";
                labelQ.style.top = "70px";
                labelQ.style.transform = "rotate(-90deg)";
                labelQ.innerHTML = "Q (Reactiva)";
                
                var labelS = document.createElement("div");
                labelS.style.position = "absolute";
                labelS.style.top = "60px";
                labelS.style.left = "120px";
                labelS.style.transform = "rotate(-37deg)";
                labelS.innerHTML = "S (Aparente)";
                
                var labelPhi = document.createElement("div");
                labelPhi.style.position = "absolute";
                labelPhi.style.bottom = "10px";
                labelPhi.style.left = "20px";
                labelPhi.innerHTML = "œÜ";
                
                powerTriangle.appendChild(triangle);
                powerTriangle.appendChild(hypotenuse);
                powerTriangle.appendChild(labelP);
                powerTriangle.appendChild(labelQ);
                powerTriangle.appendChild(labelS);
                powerTriangle.appendChild(labelPhi);
            }
            
            // Verificar que todos los modales existen
            var modalIds = ['tierra', 'potencia', 'cortocircuito'];
            for (var i = 0; i < modalIds.length; i++) {
                if (!document.getElementById(modalIds[i])) {
                    console.error("Modal con ID " + modalIds[i] + " no encontrado");
                }
            }
        });
    </script>
</body>
</html>