<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Suarzaxmod Corporation</title>
<!-- Bootstrap 5 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Font Awesome 6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- AOS Animation Library -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
<style>
    :root {
        --primary-color: #0d6efd;
        --secondary-color: #6610f2;
        --accent-color: #fd7e14;
        --background-color: #121212;
        --surface-color: #1e1e1e;
        --text-color: #ffffff;
        --muted-text: #b0b0b0;
        --card-bg-color: rgba(255, 255, 255, 0.05);
        --card-hover-color: rgba(255, 255, 255, 0.1);
        --transition-speed: 0.3s;
        --success-color: #28a745;
        --danger-color: #dc3545;
    }
    .light-mode {
        --background-color: #f8f9fa;
        --surface-color: #ffffff;
        --text-color: #212529;
        --muted-text: #6c757d;
        --card-bg-color: rgba(0, 0, 0, 0.03);
        --card-hover-color: rgba(0, 0, 0, 0.06);
    }
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        transition: background-color var(--transition-speed), color var(--transition-speed);
        overflow-x: hidden;
        min-height: 100vh;
        position: relative;
        width: 100%;
      /* Agregar después de las reglas existentes del header */
@media (max-width: 768px) {
    .header-buttons {
        margin-top: 8px;
    }
}

@media (max-width: 1024px) and (min-width: 769px) {
    .header-buttons {
        margin-top: 12px;
    }
}

@media (max-width: 480px) {
    .header-buttons {
        margin-top: 16px;
    }
}
    }
    /* Scroll suave */
    html {
        scroll-behavior: smooth;
    }
    ::-webkit-scrollbar {
        width: 0px;
        background: transparent;
    }
    /* Para Firefox */
    html {
        scrollbar-width: none;
    }
    /* Animación de carga profesional y moderna */
    .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: linear-gradient(135deg, #0d6efd 0%, #6610f2 50%, #121212 100%);
        z-index: 5000;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        animation: loadingScreenFadeOut 4s ease forwards;
        overflow: hidden;
    }
    .loading-screen.hidden {
        display: none;
    }
    /* Partículas de fondo */
    .loading-particles {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    .particle {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: particleFloat 6s infinite linear;
    }
    .particle:nth-child(1) { width: 4px; height: 4px; left: 10%; animation-delay: 0s; }
    .particle:nth-child(2) { width: 6px; height: 6px; left: 20%; animation-delay: 1s; }
    .particle:nth-child(3) { width: 3px; height: 3px; left: 30%; animation-delay: 2s; }
    .particle:nth-child(4) { width: 5px; height: 5px; left: 40%; animation-delay: 0.5s; }
    .particle:nth-child(5) { width: 4px; height: 4px; left: 50%; animation-delay: 1.5s; }
    .particle:nth-child(6) { width: 6px; height: 6px; left: 60%; animation-delay: 2.5s; }
    .particle:nth-child(7) { width: 3px; height: 3px; left: 70%; animation-delay: 0.8s; }
    .particle:nth-child(8) { width: 5px; height: 5px; left: 80%; animation-delay: 1.8s; }
    .particle:nth-child(9) { width: 4px; height: 4px; left: 90%; animation-delay: 2.2s; }
    @keyframes particleFloat {
        0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
        10% { opacity: 1; }
        90% { opacity: 1; }
        100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }
    /* Logo principal con efectos avanzados */
    .loading-logo-container {
        position: relative;
        margin-bottom: 30px;
        z-index: 10;
    }
    .loading-logo {
        width: 140px;
        height: 140px;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        display: flex;
        align-items: center;
        justify-content: center;
        animation: logoRotateScale 3s ease-in-out;
        padding: 6px;
        box-shadow: 
            0 0 40px rgba(13, 110, 253, 0.6),
            0 0 80px rgba(102, 16, 242, 0.4),
            inset 0 0 20px rgba(255, 255, 255, 0.1);
        position: relative;
        overflow: hidden;
    }
    .loading-logo::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: logoShine 2s infinite;
        transform: rotate(45deg);
    }
    .loading-logo img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        z-index: 2;
        position: relative;
    }
    /* Anillos orbitales */
    .loading-rings {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .ring {
        position: absolute;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        border-top-color: rgba(13, 110, 253, 0.8);
        animation: ringRotate 2s linear infinite;
    }
    .ring:nth-child(1) { width: 180px; height: 180px; top: -90px; left: -90px; animation-duration: 2s; }
    .ring:nth-child(2) { width: 220px; height: 220px; top: -110px; left: -110px; animation-duration: 3s; animation-direction: reverse; border-top-color: rgba(102, 16, 242, 0.8); }
    .ring:nth-child(3) { width: 260px; height: 260px; top: -130px; left: -130px; animation-duration: 4s; border-top-color: rgba(253, 126, 20, 0.8); }
    /* Texto de carga moderno */
    .loading-text {
        color: white;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 20px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        animation: textPulse 2s ease-in-out infinite;
        letter-spacing: 2px;
    }
    .loading-subtitle {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1rem;
        font-weight: 400;
        margin-bottom: 30px;
        animation: subtitleFade 3s ease-in-out;
    }
    /* Barra de progreso moderna */
    .loading-progress {
        width: 300px;
        height: 4px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        overflow: hidden;
        position: relative;
    }
    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        border-radius: 2px;
        animation: progressFill 3s ease-in-out;
        position: relative;
    }
    .progress-bar::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        animation: progressShine 1.5s infinite;
    }
    /* Animaciones */
    @keyframes loadingScreenFadeOut { 0% { opacity: 1; } 75% { opacity: 1; } 100% { opacity: 0; visibility: hidden; } }
    @keyframes logoRotateScale { 0% { transform: rotate(0deg) scale(0.3); opacity: 0; } 50% { transform: rotate(180deg) scale(1.1); opacity: 1; } 100% { transform: rotate(360deg) scale(1); opacity: 1; } }
    @keyframes logoShine { 0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); } 100% { transform: translateX(100%) translateY(100%) rotate(45deg); } }
    @keyframes ringRotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    @keyframes textPulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.8; transform: scale(1.05); } }
    @keyframes subtitleFade { 0% { opacity: 0; transform: translateY(20px); } 50% { opacity: 1; transform: translateY(0); } 100% { transform: translateY(0); } }
    @keyframes progressFill { 0% { width: 0%; } 100% { width: 100%; } }
    @keyframes progressShine { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
    /* Welcome Banner - OPTIMIZADO */
    .welcome-banner {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: var(--background-color);
        z-index: 3000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0;
        animation: welcomeFadeIn 0.8s ease;
        overflow-y: auto;
        background-image: url('https://i30.servimg.com/u/f30/20/30/93/75/milad-10.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
    }
    .welcome-banner::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, 
            rgba(13, 110, 253, 0.85) 0%, 
            rgba(102, 16, 242, 0.85) 50%, 
            rgba(0, 0, 0, 0.85) 100%);
        backdrop-filter: blur(5px);
        z-index: -1;
    }
    .welcome-banner.hidden { display: none; }
    .welcome-content {
        background: rgba(30, 30, 30, 0.9);
        border-radius: 20px;
        padding: 30px 25px;
        text-align: center;
        width: 100%;
        max-width: 480px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        animation: welcomeSlideUp 0.8s ease 0.2s both;
        margin: 20px;
        max-height: calc(100vh - 40px);
        overflow-y: auto;
        backdrop-filter: blur(10px);
    }
    .light-mode .welcome-content { background: rgba(255, 255, 255, 0.9); border: 1px solid rgba(0, 0, 0, 0.1); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1); }
    .welcome-logo {
        width: 80px;
        height: 80px;
        margin: 0 auto 20px;
        border-radius: 50%;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        display: flex;
        align-items: center;
        justify-content: center;
        animation: welcomePulse 2s infinite alternate;
        padding: 3px;
    }
    .welcome-logo img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; }
    .welcome-title { font-size: 2rem; font-weight: 700; color: var(--text-color); margin-bottom: 10px; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); }
    .welcome-subtitle { font-size: 1.1rem; color: var(--primary-color); margin-bottom: 15px; font-weight: 500; }
    .welcome-description { font-size: 1rem; color: var(--muted-text); margin-bottom: 25px; line-height: 1.5; }
    /* Accesos rápidos con iconos animados - OPTIMIZADOS */
    .welcome-quick-access { display: flex; gap: 15px; justify-content: center; margin: 20px 0; }
    .quick-access-btn {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        padding: 15px;
        border-radius: 12px;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.4s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        width: 100px;
        position: relative;
        overflow: hidden;
    }
    .light-mode .quick-access-btn { background: rgba(0, 0, 0, 0.05); border: 1px solid rgba(0, 0, 0, 0.1); }
    .quick-access-btn:hover { background: rgba(13, 110, 253, 0.15); color: var(--primary-color); transform: translateY(-5px); border-color: var(--primary-color); box-shadow: 0 10px 25px rgba(13, 110, 253, 0.2); }
    .quick-access-icon {
        font-size: 1.8rem;
        transition: all 0.4s ease;
        animation: iconFloat 3s ease-in-out infinite;
        background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        display: inline-block;
    }
    .quick-access-btn:hover .quick-access-icon { transform: scale(1.2); }
    .quick-access-text { font-size: 0.85rem; font-weight: 600; transition: all 0.3s ease; }
    @keyframes iconFloat { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-5px); } }
    .quick-access-btn:nth-child(1) .quick-access-icon { animation-delay: 0s; }
    .quick-access-btn:nth-child(2) .quick-access-icon { animation-delay: 0.5s; }
    /* Advertencia */
    .data-warning {
        background: rgba(255, 193, 7, 0.1);
        border-left: 3px solid #ffc107;
        border-radius: 6px;
        padding: 12px 15px;
        margin: 15px 0;
        font-size: 0.85rem;
        color: var(--text-color);
        text-align: left;
        line-height: 1.4;
        display: flex;
        align-items: flex-start;
        gap: 10px;
    }
    .data-warning i { color: #ffc107; font-size: 1rem; margin-top: 2px; }
    /* Formulario de registro */
    .welcome-register-form { display: grid; gap: 12px; margin: 15px 0; }
    .welcome-form-input {
        background-color: rgba(255, 255, 255, 0.07);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        padding: 12px 14px;
        border-radius: 8px;
        transition: all var(--transition-speed);
        font-size: 15px;
    }
    .light-mode .welcome-form-input { background: rgba(0, 0, 0, 0.03); border: 1px solid rgba(0, 0, 0, 0.1); color: var(--text-color); }
    .welcome-form-input::placeholder { color: var(--muted-text); }
    .welcome-form-input:focus { background: rgba(255, 255, 255, 0.1); border-color: var(--primary-color); outline: none; box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.2); transform: translateY(-2px); }
    .welcome-form-select {
        background: rgba(255, 255, 255, 0.07);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        padding: 12px 14px;
        border-radius: 8px;
        transition: all var(--transition-speed);
        font-size: 15px;
    }
    .light-mode .welcome-form-select { background: rgba(0, 0, 0, 0.03); border: 1px solid rgba(0, 0, 0, 0.1); }
    .welcome-form-select option { background-color: var(--surface-color); color: var(--text-color); }
    .welcome-form-checkbox { display: flex; align-items: center; gap: 10px; font-size: 0.85rem; color: var(--text-color); text-align: left; padding: 5px 0; }
    .welcome-form-checkbox input { width: 16px; height: 16px; accent-color: var(--primary-color); }
    .welcome-form-checkbox a { color: var(--primary-color); text-decoration: none; }
    .welcome-form-checkbox a:hover { text-decoration: underline; }
    .welcome-btn { padding: 12px 24px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-decoration: none; display: inline-block; position: relative; overflow: hidden; }
    .welcome-btn-primary { background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); color: white; box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3); }
    .welcome-btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(13, 110, 253, 0.4); color: white; }
    .welcome-btn-secondary { background: rgba(255, 255, 255, 0.07); color: var(--text-color); border: 1px solid rgba(255, 255, 255, 0.1); margin-top: 12px; }
    .light-mode .welcome-btn-secondary { background: rgba(0, 0, 0, 0.05); border: 1px solid rgba(0, 0, 0, 0.1); }
    .welcome-btn-secondary:hover { background: rgba(255, 255, 255, 0.1); border-color: var(--primary-color); color: var(--text-color); transform: translateY(-2px); }
    /* Separador visual */
    .welcome-divider { display: flex; align-items: center; margin: 15px 0; color: var(--muted-text); font-size: 0.85rem; }
    .welcome-divider::before, .welcome-divider::after { content: ''; flex: 1; height: 1px; background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent); }
    .welcome-divider::before { margin-right: 10px; }
    .welcome-divider::after { margin-left: 10px; }
    /* Formulario de inicio de sesión */
    .welcome-register-form, .welcome-login-form { display: none; grid-template-columns: 1fr; gap: 12px; margin: 15px 0; }
    .welcome-register-form.active, .welcome-login-form.active { display: grid; }
    .auth-tabs { display: flex; margin-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
    .auth-tab { flex: 1; text-align: center; padding: 12px; cursor: pointer; transition: all 0.3s ease; font-weight: 500; color: var(--muted-text); font-size: 0.9rem; }
    .auth-tab.active { color: var(--primary-color); border-bottom: 2px solid var(--primary-color); }
    /* Background styles - FONDO FIJO SIN MOVIMIENTO */
    .background-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden; }
    .background-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        opacity: 0;
        transition: opacity 1.5s ease;
    }
    .background-image.active { opacity: 1; }
    .background-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, 
            rgba(0,0,0,0.2) 0%, 
            rgba(0,0,0,0.6) 50%, 
            var(--background-color) 100%);
    }
    /* Contenedor principal - OCUPANDO TODA LA PANTALLA */
    #mainContent {
        position: relative;
        z-index: 1;
        background: linear-gradient(to bottom, 
            transparent 0%, 
            rgba(18, 18, 18, 0.8) 40%, 
            var(--background-color) 60%);
        min-height: 100vh;
        padding-top: 10vh;
        width: 100%;
        max-width: 100%;
    }
    .light-mode #mainContent { background: linear-gradient(to bottom, transparent 0%, rgba(248, 249, 250, 0.8) 40%, var(--background-color) 60%); }
    /* Contenedor principal mejorado para ocupar toda la pantalla */
    .container {
        width: 100% !important;
        max-width: 100% !important;
        padding-left: 15px;
        padding-right: 15px;
        margin: 0;
    }
    /* Header styles */
    header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background-color: rgba(rgb(18 18 18 / 0%));
        backdrop-filter: blur(0px);
        transition: all var(--transition-speed);
        padding: 8px 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        width: 100%;
    }
    .light-mode header { background: rgba(248, 249, 250, 0.8); border-bottom: 1px solid rgba(0, 0, 0, 0.05); }
    .logo { max-width: 45px; height: auto; filter: drop-shadow(0 0 5px var(--primary-color)); transition: transform var(--transition-speed); }
    .logo:hover { transform: scale(1.05); }
    .header-button {
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: var(--text-color);
        font-size: 1.1rem;
        padding: 6px;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all var(--transition-speed);
        position: relative;
    }
    .header-button:hover, .header-button:focus { color: var(--primary-color); background: rgba(255, 255, 255, 0.15); transform: translateY(-2px); }
    .light-mode .header-button { background: rgba(0, 0, 0, 0.05); }
    .user-status-indicator { position: absolute; top: -2px; right: -2px; width: 10px; height: 10px; background-color: #28a745; border-radius: 50%; border: 2px solid var(--background-color); display: none; }
    .user-status-indicator.active { display: block; }
    .more-menu { position: relative; display: inline-block; }
    .more-menu-content {
        display: none; /* Changed from none to block/flex by JS */
        position: absolute;
        right: 0;
        top: 100%;
        background: rgba(30, 30, 30, 0.95);
        backdrop-filter: blur(10px);
        min-width: 180px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        padding: 8px 0;
        z-index: 1001;
        margin-top: 5px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        animation: fadeIn 0.2s ease;
    }
    .more-menu-content.show {
        display: block; /* This makes the menu visible */
    }
    .light-mode .more-menu-content { background: rgba(255, 255, 255, 0.95); border: 1px solid rgba(0, 0, 0, 0.05); }
    .more-menu-item { display: flex; align-items: center; padding: 10px 15px; color: var(--text-color); text-decoration: none; transition: all var(--transition-speed); cursor: pointer; font-size: 0.9rem; }
    .more-menu-item:hover { background: rgba(255, 255, 255, 0.05); color: var(--primary-color); }
    .light-mode .more-menu-item:hover { background: rgba(0, 0, 0, 0.05); }
    .more-menu-item i { margin-right: 10px; width: 18px; text-align: center; font-size: 0.9rem; }
    /* Secciones ocupando toda la pantalla */
    main { width: 100%; height: 50%; margin: 10px 0 0; padding: 0; }
    .section-title {
        position: relative;
        color: var(--text-color);
        font-weight: 600;
        margin: 2rem 0 1.5rem;
        display: inline-block;
        padding-bottom: 5px;
        font-size: 1.3rem;
        width: 100%;
        padding-left: 15px;
    }
    .section-title::after { content: ''; position: absolute; left: 15px; bottom: 0; width: 50px; height: 3px; background: linear-gradient(to right, var(--primary-color), var(--secondary-color)); border-radius: 3px; }
    .social-icons { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin: 1.5rem 0; width: 100%; padding: 0 15px; }
    .social-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        transition: all var(--transition-speed);
        color: var(--text-color);
        text-decoration: none;
        position: relative;
        overflow: hidden;
        border: 2px solid transparent;
    }
    .social-icon::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); opacity: 0; transition: opacity var(--transition-speed); z-index: -1; }
    .social-icon:hover::before { opacity: 1; }
    .social-icon:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3); border-color: rgba(255, 255, 255, 0.2); }
    .social-icon img { width: 60%; height: 60%; object-fit: contain; transition: transform var(--transition-speed); }
    .social-icon:hover img { transform: scale(1.1); }
    /* Grid de categorías ocupando toda la pantalla */
    .category-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; margin: 1.5rem 0; width: 100%; padding: 0 15px; }
    .category-card {
        background: var(--card-bg-color);
        border-radius: 12px;
        overflow: hidden;
        transition: all var(--transition-speed);
        height: 100%;
        display: flex;
        flex-direction: column;
        text-decoration: none;
        color: var(--text-color);
        border: 1px solid rgba(255, 255, 255, 0.05);
        cursor: pointer; /* Added cursor pointer */
    }
    .light-mode .category-card { border: 1px solid rgba(0, 0, 0, 0.05); }
    .category-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); background: var(--card-hover-color); }
    .category-image { width: 100%; height: 120px; object-fit: cover; transition: transform var(--transition-speed); }
    .category-card:hover .category-image { transform: scale(1.05); }
    .category-title { padding: 15px; text-align: center; font-weight: 500; font-size: 0.9rem; background: rgba(0, 0, 0, 0.1); margin: 0; transition: all var(--transition-speed); flex-grow: 1; display: flex; align-items: center; justify-content: center; }
    .category-card:hover .category-title { background: var(--primary-color); color: white; }
    footer { background: rgba(0, 0, 0, 0.2); padding: 20px 15px; text-align: center; margin-top: 2rem; border-top: 1px solid rgba(255, 255, 255, 0.05); font-size: 0.9rem; width: 100%; }
    .light-mode footer { background: rgba(0, 0, 0, 0.02); border-top: 1px solid rgba(0, 0, 0, 0.05); }
    /* Swiper ocupando toda la pantalla */
    .swiper { width: 100%; height: 200px; margin: 1rem 0; border-radius: 10px; overflow: hidden; padding: 0 15px; position: relative; perspective: 1200px; }
    .swiper-slide { display: flex; justify-content: center; align-items: center; border-radius: 15px; overflow: hidden; transition: all 0.9s ease; position: relative; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1); transform-style: preserve-3d; height: 100%; width: 100%; }
    .swiper-slide-active { z-index: 5; transform: translateZ(50px); }
    .swiper-slide-prev, .swiper-slide-next { opacity: 0.9; transform: scale(0.85) translateZ(0); }
    .swiper-slide img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.7s ease; }
    .swiper-slide:hover img { transform: scale(1.1); }
    .swiper-slide-content { position: absolute; bottom: 0; left: 0; width: 100%; padding: 12px; background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%); color: white; z-index: 1; }
    .swiper-slide-title { font-size: 1rem; font-weight: 600; margin: 0; }
    .swiper-slide-description { font-size: 0.8rem; margin: 5px 0 0; opacity: 0.8; }
    /* Radio Player Styles */
    .radio-player { position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); color: white; z-index: 1000; transition: transform var(--transition-speed); transform: translateY(100%); border-top: 1px solid rgba(255, 255, 255, 0.1); }
    .radio-player.active { transform: translateY(0); }
    .radio-player-mini { display: flex; align-items: center; padding: 8px 12px; gap: 12px; }
    .station-logo { width: 45px; height: 45px; border-radius: 8px; object-fit: cover; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); border: 2px solid rgba(255, 255, 255, 0.1); }
    .station-info { flex: 1; min-width: 0; }
    .station-name { font-weight: 600; margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1rem; color: #fff; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); }
    .station-meta { font-size: 0.7rem; color: var(--muted-text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .player-controls { display: flex; gap: 8px; }
    .control-button { background: none; border: none; color: white; font-size: 1.1rem; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all var(--transition-speed); }
    .control-button:hover { background: rgba(255, 255, 255, 0.1); transform: scale(1.1); }
    .play-button { background: linear-gradient(45deg, var(--primary-color), var(--secondary-color)); box-shadow: 0 4px 10px rgba(13, 110, 253, 0.4); }
    .play-button:hover { background: linear-gradient(45deg, var(--secondary-color), var(--primary-color)); box-shadow: 0 6px 15px rgba(13, 110, 253, 0.5); }
    /* Radio Player Fullscreen */
    .radio-player-fullscreen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); backdrop-filter: blur(10px); z-index: 2000; flex-direction: column; padding: 2rem; color: white; overflow-y: auto; }
    .fullscreen-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
    .fullscreen-title { font-size: 1.5rem; font-weight: 600; display: flex; align-items: center; gap: 10px; }
    .close-fullscreen { background: none; border: none; color: white; font-size: 1.5rem; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all var(--transition-speed); background: rgba(255, 255, 255, 0.1); }
    .close-fullscreen:hover { background: rgba(255, 255, 255, 0.2); }
    .fullscreen-content { display: flex; flex-direction: column; align-items: center; justify-content: flex-start; gap: 2rem; }
    .fullscreen-station-logo { width: 200px; height: 200px; border-radius: 20px; object-fit: cover; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); animation: pulse 2s infinite alternate; border: 4px solid rgba(255, 255, 255, 0.2); }
    .fullscreen-station-name { font-size: 1.8rem; font-weight: 700; margin: 0; text-align: center; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); }
    .fullscreen-station-meta { font-size: 1rem; color: rgba(255, 255, 255, 0.8); text-align: center; }
    .fullscreen-controls { display: flex; gap: 20px; margin-top: 1rem; }
    .fullscreen-control { width: 60px; height: 60px; border-radius: 50%; background: rgba(255, 255, 255, 0.2); color: white; font-size: 1.5rem; display: flex; align-items: center; justify-content: center; border: none; transition: all var(--transition-speed); }
    .fullscreen-control:hover { background: rgba(255, 255, 255, 0.3); transform: scale(1.1); }
    .fullscreen-play { background: white; color: var(--primary-color); width: 70px; height: 70px; font-size: 1.8rem; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); }
    .fullscreen-play:hover { background: white; box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3); }
    .station-list-container { width: 100%; max-width: 600px; margin-top: 2rem; }
    .station-list-title { font-size: 1.2rem; font-weight: 600; margin-bottom: 1rem; text-align: center; }
    .station-list { max-height: 300px; overflow-y: auto; background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 15px; display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 10px; }
    .station-item { display: flex; align-items: center; gap: 10px; padding: 10px; border-radius: 8px; transition: all 0.3s ease; background: rgba(255, 255, 255, 0.05); cursor: pointer; }
    .station-item:hover { background: rgba(255, 255, 255, 0.1); transform: translateX(5px); }
    .station-item.active { background: rgba(13, 110, 253, 0.2); border-left: 3px solid var(--primary-color); }
    .station-item-logo { width: 40px; height: 40px; border-radius: 6px; object-fit: cover; }
    .station-item-info { flex: 1; }
    .station-item-name { font-size: 0.9rem; font-weight: 500; margin: 0; }
    .station-item-freq { font-size: 0.75rem; color: rgba(255, 255, 255, 0.6); }
    /* Modal Styles */
    .modal-custom { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); z-index: 2000; align-items: center; justify-content: center; padding: 15px; overflow-y: auto; }
    .modal-content-custom { background: var(--surface-color); border-radius: 18px; width: 90%; max-width: 450px; position: relative; overflow: hidden; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2); animation: modalFadeIn 0.3s ease; margin: 10px; }
    .modal-header-custom { position: relative; height: 120px; background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); display: flex; align-items: center; justify-content: center; }
    .modal-close { 
        position: absolute; 
        top: 10px; 
        left: 50%; /* Centrar horizontalmente */
        transform: translateX(-50%); /* Ajuste para centrado perfecto */
        background: rgba(0, 0, 0, 0.5); 
        border: none; 
        color: white; 
        width: 28px; 
        height: 28px; 
        border-radius: 50%; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        font-size: 0.9rem; 
        z-index: 10; 
        transition: all var(--transition-speed); 
    }
    .modal-close:hover { background: rgba(0, 0, 0, 0.7); transform: translateX(-50%) scale(1.1); }
    .modal-close i {
        line-height: 1; /* Asegura que el icono esté perfectamente centrado */
    }
    .modal-body-custom { padding: 25px 20px; }
    .user-info-display { background: rgba(255, 255, 255, 0.05); border-radius: 8px; padding: 15px; margin-bottom: 15px; border: 1px solid rgba(255, 255, 255, 0.1); }
    .user-info-item { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid rgba(255, 255, 255, 0.05); font-size: 0.9rem; }
    .user-info-item:last-child { border-bottom: none; }
    .user-info-label { font-weight: 500; color: var(--muted-text); }
    .user-info-value { color: var(--text-color); font-weight: 600; }
    .btn-logout { background: linear-gradient(45deg, #dc3545, #c82333); border: none; color: white; padding: 10px 20px; border-radius: 8px; font-weight: 500; transition: all var(--transition-speed); margin-top: 15px; width: 100%; }
    .btn-logout:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(220, 53, 69, 0.3); }
    /* Notification */
    .notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--surface-color);
        color: var(--text-color);
        padding: 12px 18px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        z-index: 2000;
        display: flex;
        align-items: center;
        gap: 12px;
        transform: translateX(120%);
        transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        max-width: 320px;
        font-size: 0.9rem;
        opacity: 0; /* Start hidden */
    }
    .notification.show {
        transform: translateX(0);
        opacity: 1;
    }
    .notification-icon {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        background: var(--primary-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1rem;
        flex-shrink: 0;
    }
    .notification-icon.success { background: var(--success-color); }
    .notification-icon.error { background: var(--danger-color); }
    .notification-content { flex: 1; }
    .notification-title { font-weight: 600; margin: 0; font-size: 0.9rem; }
    .notification-message { margin: 3px 0 0; font-size: 0.8rem; color: var(--muted-text); }

    /* Category Fullscreen Modal */
    .category-fullscreen-modal {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        z-index: 2500; /* Higher than other modals */
        flex-direction: column;
        padding: 0; /* No padding for the modal itself */
        color: white;
        overflow-y: auto;
        animation: fadeIn 0.3s ease-out;
    }
    .category-fullscreen-modal.show {
        display: flex;
    }
    /* No .category-fullscreen-header or .category-fullscreen-title */

    .category-fullscreen-content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start; /* Align content to top for search, etc. */
        text-align: center;
        padding: 0; /* No padding for content area */
        width: 100%;
        height: 100%; /* Now takes full height of the modal, as there's no header */
        overflow: hidden; /* Mantiene hidden por defecto */
        position: relative; /* For positioning the overlay close button */
    }

    .close-fullscreen-overlay { /* New class for the close button */
        position: absolute;
        top: 10px;
        left: 2%; /* Centrar horizontalmente */
        transform: translateX(-50%); /* Ajuste para centrado perfecto */
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        transition: all var(--transition-speed);
        z-index: 10; /* Ensure it's above iframe content */
    }
    .close-fullscreen-overlay:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateX(-50%) scale(1.1);
    }
    /* Asegura que el icono 'X' esté perfectamente centrado */
    .close-fullscreen-overlay i {
        line-height: 1; /* Esto ayuda a centrar verticalmente el icono */
    }
    /* Iframe specific styles */
    .category-fullscreen-content iframe {
        width: 100%;
        height: 100%;
        border: none;
        border-radius: 0; /* Remove border-radius for full-screen look */
        background-color: var(--surface-color);
    }
    .iframe-loading-indicator, .iframe-error-message {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px; /* Add some padding for text content */
        box-sizing: border-box; /* Include padding in width/height */
    }

    /* Main Search UI Styles (New) */
    #mainSearchUI {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95); /* Oscurece el fondo */
        backdrop-filter: blur(10px); /* Efecto de desenfoque */
        z-index: 2600; /* Asegura que esté por encima de todo */
        flex-direction: column;
        align-items: center;
        justify-content: flex-start; /* Alinea el contenido arriba */
        padding-top: 10vh; /* Espacio desde la parte superior */
        overflow-y: auto;
        animation: fadeIn 0.3s ease-out;
        color: var(--text-color);
    }
    #mainSearchUI.show {
        display: flex;
    }
    #mainSearchUI .close-search-ui-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        transition: all var(--transition-speed);
        z-index: 10;
    }
    #mainSearchUI .close-search-ui-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.1);
    }
    #mainSearchUI .close-search-ui-btn i {
        line-height: 1; /* Centra el icono */
    }
    #mainSearchUI p {
        margin-bottom: 15px;
        font-size: 1.1rem;
        color: var(--muted-text);
    }
    #mainSearchUI #searchInput {
        width: 80%;
        max-width: 400px; /* Aumentado para mejor usabilidad */
        margin-bottom: 15px;
        font-size: 1.1rem; /* Aumentado el tamaño de fuente */
        padding: 15px; /* Más padding */
    }
    #mainSearchUI #searchResultsContainer {
        width: 80%;
        max-width: 400px; /* Aumentado */
        background: var(--surface-color);
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        max-height: 250px; /* Aumentado */
        overflow-y: auto;
        display: none;
        text-align: left;
        margin-bottom: 10px;
    }
    #mainSearchUI .search-suggestion-item {
        padding: 12px 18px; /* Más padding */
        cursor: pointer;
        transition: background 0.2s ease;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        color: var(--text-color);
    }
    #mainSearchUI .search-suggestion-item:last-child {
        border-bottom: none;
    }
    #mainSearchUI .search-suggestion-item:hover {
        background: rgba(255,255,255,0.1);
    }
    #mainSearchUI .search-suggestion-item strong {
        color: var(--primary-color);
        font-size: 1rem; /* Ajuste de tamaño */
    }
    #mainSearchUI .search-suggestion-item small {
        display: block;
        color: var(--muted-text);
        font-size: 0.85em; /* Ajuste de tamaño */
    }
    #mainSearchUI #searchButton {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 12px 25px; /* Más padding */
        border-radius: 8px;
        cursor: pointer;
        margin-top: 10px;
        font-size: 1rem;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    #mainSearchUI #searchButton:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(13, 110, 253, 0.3);
    }
    #mainSearchUI #finalSearchResults {
        margin-top: 20px;
        color: var(--muted-text);
        text-align: left;
        width: 80%;
        max-width: 400px;
        padding: 15px;
        background: var(--card-bg-color);
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    #mainSearchUI #finalSearchResults ul {
        list-style: none;
        padding: 0;
        margin-top: 10px;
    }
    #mainSearchUI #finalSearchResults li {
        padding: 8px 0;
        border-bottom: 1px solid rgba(255,255,255,0.03);
        font-size: 0.95rem;
    }
    #mainSearchUI #finalSearchResults li:last-child {
        border-bottom: none;
    }
    #mainSearchUI #finalSearchResults li a {
        color: var(--primary-color);
        text-decoration: none;
        margin-left: 10px;
        font-weight: 500;
    }
    #mainSearchUI #finalSearchResults li a:hover {
        text-decoration: underline;
    }
    /* Responsive Design - MEJORADO PARA OCUPAR TODA LA PANTALLA */
    @media (max-width: 576px) {
        .container { padding-left: 10px; padding-right: 10px; }
        .welcome-content { padding: 25px 20px; margin: 10px; max-height: calc(100vh - 20px); border-radius: 15px; }
        .welcome-title { font-size: 1.7rem; }
        .welcome-subtitle { font-size: 1rem; }
        .welcome-description { font-size: 0.9rem; }
        .welcome-form-input, .welcome-form-select { padding: 12px 14px; font-size: 16px; }
        .welcome-quick-access { flex-direction: row; gap: 10px; flex-wrap: wrap; justify-content: center; }
        .quick-access-btn { padding: 12px; min-width: 80px; width: auto; }
        .quick-access-icon { font-size: 1.6rem; }
        .category-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; padding: 0 10px; }
        .header-button { width: 32px; height: 32px; font-size: 1rem; }
        .section-title { font-size: 1.1rem; padding-left: 10px; }
        .section-title::after { left: 10px; }
        .swiper { height: 160px; padding: 0 10px; }
        .social-icons { padding: 0 10px; }
        .modal-content-custom { max-width: 95%; }
        .notification { max-width: 280px; bottom: 15px; right: 15px; padding: 10px 15px; }
        .radio-player-mini { padding: 6px 10px; gap: 10px; }
        .station-logo { width: 40px; height: 40px; }
        .station-name { font-size: 0.9rem; }
        .control-button { width: 32px; height: 32px; font-size: 1rem; }
        .fullscreen-station-logo { width: 150px; height: 150px; }
        .fullscreen-station-name { font-size: 1.5rem; }
        .fullscreen-control { width: 50px; height: 50px; font-size: 1.2rem; }
        .radio-player-fullscreen { padding: 1rem; }
        .station-list { grid-template-columns: 1fr; }
        .loading-logo { width: 100px; height: 100px; }
        .loading-text { font-size: 1.2rem; }
        .loading-progress { width: 250px; }
        /* No .category-fullscreen-title in media queries */
        .category-fullscreen-content p { font-size: 1rem; }
        /* Main Search UI Responsive */
        #mainSearchUI #searchInput,
        #mainSearchUI #searchResultsContainer,
        #mainSearchUI #finalSearchResults {
            width: 90%; /* Más ancho en móviles */
            max-width: none; /* Elimina el max-width */
        }
        #mainSearchUI #searchInput {
            font-size: 1rem;
            padding: 12px;
        }
        #mainSearchUI .search-suggestion-item {
            padding: 10px 15px;
        }
        #mainSearchUI #searchButton {
            padding: 10px 20px;
            font-size: 0.9rem;
        }
    }
    @media (max-width: 768px) {
        .swiper { height: 180px; }                
        .welcome-form-input, .welcome-form-select { font-size: 16px; }
        .category-grid { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
    }
    @media (max-width: 400px) {
        .container { padding-left: 8px; padding-right: 8px; }
        .welcome-content { margin: 8px; padding: 20px 15px; }
        .welcome-title { font-size: 1.5rem; }
        .quick-access-icon { font-size: 1.5rem; }
        .quick-access-btn { padding: 10px; min-width: 70px; }
        .loading-logo { width: 80px; height: 80px; }
        .loading-text { font-size: 1rem; }
        .loading-progress { width: 200px; }
        .category-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); padding: 0 8px; }
        .section-title { padding-left: 8px; }
        .section-title::after { left: 8px; }
        .swiper { padding: 0 8px; }
        .social-icons { padding: 0 8px; }
    }
    /* Pantallas grandes - aprovechando todo el espacio */
    @media (min-width: 1200px) {
        .category-grid { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; }
        .swiper { height: 220px; }
    }
    @media (min-width: 1400px) {
        .category-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; }
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes modalFadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); } 100% { transform: scale(1.05); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4); } }

    /* ========================================
       SECCIÓN: ESTILOS PARA MODALES
       ======================================== */
    .modal-content {
        background: var(--surface-color);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding: 1.5rem;
        position: relative;
    }

    .modal-title {
        color: var(--text-color);
        font-weight: 600;
        margin: 0;
        flex-grow: 1;
    }

    /* Nuevo estilo para botón de cerrar personalizado */
    .btn-close-custom {
        position: absolute;
        top: 50px;
        left: 100px;
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 1.2rem;
        padding: 8px 12px;
        border-radius: 8px;
        transition: all var(--transition-speed);
        z-index: 1000;
    }

    .btn-close-custom:hover {
        background: rgba(255, 255, 255, 0.1);
        color: var(--primary-color);
        transform: translateX(-2px);
    }

    .modal-body {
        padding: 2rem;
        color: var(--text-color);
    }

    .feature-card {
        background: var(--card-bg-color);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        text-align: center;
        transition: all var(--transition-speed);
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        background: var(--card-hover-color);
    }

    .service-card {
        background: var(--card-bg-color);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        transition: all var(--transition-speed);
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .service-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        background: var(--card-hover-color);
    }

    .service-card h4 {
        color: var(--text-color);
        font-weight: 600;
        margin-bottom: 15px;
    }

    .service-card p {
        color: var(--muted-text);
        line-height: 1.5;
    }

    .service-card ul {
        list-style: none;
        padding: 0;
        margin-top: 15px;
    }

    .service-card ul li {
        margin-bottom: 8px;
        padding-left: 25px;
        position: relative;
    }

    .service-card ul li::before {
        content: '\f00c'; /* Font Awesome check icon */
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        position: absolute;
        left: 10;
        top: 2px;
        color: var(--primary-color);
    }

    .contact-info {
        margin-top: 20px;
    }

    .contact-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 15px;
    }

    .contact-item i {
        font-size: 1.2rem;
        margin-right: 15px;
        width: 25px;
        text-align: center;
    }

    .contact-item div strong {
        color: var(--text-color);
        display: block;
        margin-bottom: 5px;
    }

    .contact-item div {
        color: var(--muted-text);
    }

    /* ========================================
       SECCIÓN: ESTILOS PARA LA NAVEGACIÓN
       ======================================== */
    .navbar {
        background-color: rgba(0, 0, 0, 1.9); /* Fondo semi-transparente */
        backdrop-filter: blur(8px); /* Efecto de desenfoque */
        border-bottom: 1px solid rgba(255, 255, 255, 0.5);
    }

    .navbar-brand {
        color: var(--text-color);
        font-weight: 600;
    }

    .navbar-brand i {
        color: var(--primary-color);
    }

    .navbar-toggler {
        border: none;
    }

    .navbar-toggler:focus {
        box-shadow: none;
    }

    .navbar-nav .nav-link {
        color: var(--text-color);
        margin-left: 15px;
        transition: all var(--transition-speed);
    }

    .navbar-nav .nav-link:hover,
    .navbar-nav .nav-link.active {
        color: var(--primary-color);
    }

    .btn-outline-light {
        border-color: rgba(255, 255, 255, 0.3);
        color: var(--text-color);
    }

    .btn-outline-light:hover {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
    }
</style>
</head>
<body oncontextmenu="return false">
    <!-- Animación de carga profesional y moderna -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
        <div class="loading-logo-container">
            <div class="loading-rings">
                <div class="ring"></div>
                <div class="ring"></div>
                <div class="ring"></div>
            </div>
            <div class="loading-logo">
                <img src="https://i30.servimg.com/u/f30/20/30/93/75/picsar10.png" alt="Suarzaxmod Logo">
            </div>
        </div>
        <div class="loading-text">Suarzaxmod S.A</div>
        <div class="loading-subtitle">Todo a un solo clic</div>
        <div class="loading-progress">
            <div class="progress-bar"></div>
        </div>
    </div>
    <!-- Welcome Banner con formulario integrado -->
    <div class="welcome-banner" id="welcomeBanner">
        <div class="welcome-content">
            <div class="welcome-logo">
                <img src="https://i30.servimg.com/u/f30/20/30/93/75/photor11.png" alt="Suarzaxmod Logo">
            </div>
            <h1 class="welcome-title">¡Bienvenido!</h1>
            <p class="welcome-subtitle">Suarzaxmod Corp S.A</p>
            <p class="welcome-description">
                Crea tu cuenta para acceder al Proyecto.
            </p>
            <!-- Accesos rápidos con iconos animados -->
            <div class="welcome-quick-access">
                <a href="https://notificacionradeial.blogspot.com/?m=0" onclick="app.uiManager.openCategoryFullscreen('radio');" class="quick-access-btn"> 

                    <div class="quick-access-icon">
                        <i class="fas fa-radio"></i>
                    </div>
                    <span class="quick-access-text"></span>
                </a>
                <a href="https://librosonlinesxm.blogspot.com/?m=0" onclick="app.uiManager.openCategoryFullscreen('radio');" class="quick-access-btn">
                    <div class="quick-access-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <span class="quick-access-text"></span>
                </a>
            </div>
            <!-- Advertencia -->
            <div class="data-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <strong>Importante:</strong> Si borras los datos del navegador o el caché, perderás tu cuenta y tendrás que registrarte nuevamente.
                </div>
            </div>
            <!-- Pestañas de autenticación -->
            <div class="auth-tabs">
                <div class="auth-tab active" id="registerTab">Registrarse</div>
                <div class="auth-tab" id="loginTab">Iniciar Sesión</div>
            </div>
            <!-- Formulario de registro -->
            <form class="welcome-register-form active" id="welcomeRegisterForm">
                <input type="text" class="welcome-form-input" placeholder="Nombre completo" required id="welcomeName">
                <input type="email" class="welcome-form-input" placeholder="Correo electrónico" required id="welcomeEmail">
                <input type="password" class="welcome-form-input" placeholder="Contraseña" required id="welcomePassword">
                <input type="number" class="welcome-form-input" placeholder="Edad" min="13" max="120" required id="welcomeAge">
                <select class="welcome-form-select" required id="welcomeGender">
                    <option value="">Selecciona tu género</option>
                    <option value="male">Masculino</option>
                    <option value="female">Femenino</option>
                    <option value="other">Otro</option>
                    <option value="prefer-not-to-say">Prefiero no decir</option>
                </select>
                <div class="welcome-form-checkbox">
                    <input type="checkbox" id="welcomeTerms" required>
                    <label for="welcomeTerms">
                        Acepto los <a href="https://terminosycondicionesx.blogspot.com/?m=0" target="_blank">términos y condiciones</a>
                    </label>
                </div>
                <button type="submit" class="welcome-btn welcome-btn-primary">
                    <i class="fas fa-user-plus"></i> Crear cuenta
                </button>
            </form>
            <!-- Formulario de inicio de sesión -->
            <form class="welcome-login-form" id="welcomeLoginForm">
                <input type="email" class="welcome-form-input" placeholder="Correo electrónico" required id="loginEmail">
                <input type="password" class="welcome-form-input" placeholder="Contraseña" required id="loginPassword">
                <button type="submit" class="welcome-btn welcome-btn-primary">
                    <i class="fas fa-sign-in-alt"></i> Iniciar sesión
                </button>
            </form>
        </div>
    </div>
    <!-- Background elements - FONDO FIJO -->
    <div class="background-container" id="backgroundContainer">
        <div class="background-image" id="bg1"></div>
        <div class="background-image" id="bg2"></div>
        <div class="background-image" id="bg3"></div>
        <div class="background-image" id="bg4"></div>
        <div class="background-image" id="bg5"></div>
        <div class="background-image" id="bg6"></div>
        <div class="background-overlay"></div>
    </div>
    <div class="d-flex gap-2">
    <!-- ========================================
     SECCIÓN: NAVEGACIÓN PRINCIPAL
     ======================================== -->
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="#">
            <i class="more-menu-content"></i>
            <span></span>
       
                 </li>
                    </button>
                </li>
            </ul>
        </div>
    </div>
</nav>
        <header class="d-flex justify-content-between align-items-center py-2">
<!-- Icono de notificaciones global -->
<div id="notifStatus" style="position:fixed; top:12px; right:75px; z-index:9999;">
  <button id="notifButton" class="header-button" title="Notificaciones" aria-label="Notificaciones">
    <i class="fas fa-bell"></i>
    <span id="notifCount" class="badge bg-danger ms-1" style="display:none;">0</span>
  </button>
</div>

            <img src="https://i30.servimg.com/u/f30/20/30/93/75/24632810.png" alt="Suarzaxmod Corporation Logo" class="logo">
            <div class="d-flex gap-2">
                <a href="javascript:void(0);" onclick="app.searchManager.toggleSearchUI();" class="header-button" aria-label="Buscar">
                    <i class="fas fa-search"></i>
                </a>
                <button id="showRadioBtn" class="header-button" aria-label="Radio">
                    <i class="fas fa-radio fa-bounce"></i>
                  
                <div class="more-menu">
                    <button id="moreMenuBtn" class="header-button" aria-label="Más opciones">
                        <i class="fas fa-tasks"></i>
                    </button>
                    <div class="more-menu-content" id="moreMenuContent">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('notificaciones');" class="more-menu-item">
                            <i class="fas fa-bell fa-bounce"></i> Notificaciones
                        </a>
                        <div class="more-menu-item" id="showProfileBtn">
                            <i class="fa-solid fa-id-badge fa-bounce"></i> Perfil
                            <div class="" id="userStatusIndicator"></div>
                        </div>
                        <div class="more-menu-item" id="toggleThemeBtn">
                            <i class="fas fa-moon"></i> tema
                          <div class="" id="toggleFullscreenBtn">
                            <i class=""></i>
                          </div>
                          </div>
                       <div class="more-menu-item" id="moreMenuContent">
                       <a class="nav-link" href="#" onclick="showModal('homeModal')">
                        <i class="fa-solid fa-cog fa-spin"></i>Inicio
                         </a>
                         </div>
                      <div class="more-menu-item">
                    <a class="nav-link" href="#" onclick="showModal('aboutModal')">
                        <i class="fas fa-info-circle me-1"></i>Acerca de
                        </a>
                       </div>
                <li class="more-menu-item">
                    <a class="nav-link" href="#" onclick="showModal('servicesModal')">
                        <i class="fas fa-cogs me-1"></i>Servicios
                    </a>
                </li>
                <!-- Agregado icono de calendario -->
                      </div class="header-button">
                    <a class="header-button" href="#" onclick="showModal('calendarModal')">
                      <i class="fas fa-calendar-alt me-1"></i>
                   </a>
                <div>
              <div>
            </header>
        <main>
            <!-- Main Search UI (New) -->
            <div id="mainSearchUI">
                <button class="close-search-ui-btn" id="closeMainSearchUIBtn">
                    <i class="fas fa-times"></i>
                </button>
                <p>Ingresa tu búsqueda a continuación:</p>
                <input type="text" class="welcome-form-input" placeholder="Buscar..." id="searchInput">
                <div id="searchResultsContainer">
                    <!-- Search suggestions will go here -->
                </div>
                <button class="btn" id="searchButton">Buscar</button>
                <div id="finalSearchResults"></div>
            </div>
            <h2 class="section-title" data-aos="fade-right"></h2>
            <div class="swiper" data-aos="fade-up">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('Suarzaxmpod-App');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/apk10.png" alt="Apks">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">Suarzaxmmmod Apps</h3>
                                <p class="swiper-slide-description">Originales de Suarzaxmod nuestra tienda oficial</p>
                            </div>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('espacio-apk');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/image54.png" alt="Espacio APK">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">Espacio APK</h3>
                                <p class="swiper-slide-description">Descarga aplicaciones premium</p>
                            </div>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('modi-limitado');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/com_na10.jpg" alt="Modi Limitado">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">Modi Limitado</h3>
                                <p class="swiper-slide-description">Mods sin límites</p>
                            </div>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('all-mod-apk');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/allmod10.jpg" alt="All Mod APK">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">All Mod APK</h3>
                                <p class="swiper-slide-description">Todos los mods en un solo lugar</p>
                            </div>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('apk-gstore');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/image53.png" alt="APK GStore">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">apk gstore</h3>
                                <p class="swiper-slide-description">Tienda de socio.</p>
                            </div>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="go:123-online" onclick="app.uiManager.openCategoryFullscreen('123-juegos');">
                            <img src="https://i30.servimg.com/u/f30/20/30/93/75/image12.jpg" alt="Get Mods APK">
                            <div class="swiper-slide-content">
                                <h3 class="swiper-slide-title">Juegos online</h3>
                                <p class="swiper-slide-description">Juega sin descargar juegos.</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
            <h2 class="section-title" data-aos="fade-right">Redes sociales</h2>
            <div class="social-icons" data-aos="fade-up">
                <a href="https://www.facebook.com/profile.php?id=61561075081390&mibextid=ZbWKwL" class="social-icon" aria-label="Facebook" target="_blank">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/facebo12.png" alt="Facebook">
                </a>
                <a href="https://youtube.com/@plcbysuarzaxmod" class="social-icon" aria-label="YouTube" target="_blank">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/youtub11.png" alt="YouTube">
                </a>
                <a href="https://whatsapp.com/channel/0029Va51eKi1yT21v2cFE13P" class="social-icon" aria-label="WhatsApp" target="_blank">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/social10.png" alt="WhatsApp">
                </a>
                <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('donaciones');" class="social-icon" aria-label="donaciones">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/donaci10.png" alt="Donaciones">
                </a>
            </div>
            <h2 class="section-title" data-aos="fade-right">Categorías</h2>
            <div class="category-grid" data-aos="fade-up">
    
<!-- Sección Cuentas agregada -->
<a class="category-card" id="cuentasCard" href="#" style="text-decoration:none;" data-url="">
    <img class="category-image" src="https://i30.servimg.com/u/f30/20/30/93/75/image72.png" alt="Cuentas">
    <div class="category-title">Cuentas</div>
</a>

                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('libros');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/tenor-10.gif" alt="Libros" class="category-image">
                    <h3 class="category-title">Libros</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('aplicacion');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/softwa10.gif" alt="Aplicación" class="category-image">
                    <h3 class="category-title">Aplicación</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('electricidad');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/dc-aut10.gif" alt="Electricidad" class="category-image">
                    <h3 class="category-title">Electricidad</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('pelisx');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/cartel10.gif" alt="Pelisx" class="category-image">
                    <h3 class="category-title">pelisx</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('videos-plc');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/gf7c7510.jpg" alt="Videos PLC" class="category-image">
                    <h3 class="category-title">Videos PLC</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('sistema');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/softwa10.jpg" alt="Sistema" class="category-image">
                    <h3 class="category-title">Sistema</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('simuladores');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/87099510.jpg" alt="Simuladores" class="category-image">
                    <h3 class="category-title">Simuladores</h3>
                </div>
                <div class="category-card" onclick="app.uiManager.openCategoryFullscreen('program-for-windows');">
                    <img src="https://i30.servimg.com/u/f30/20/30/93/75/image25.png" alt="Más" class="category-image">
                    <h3 class="category-title">Program for Windows</h3>
                </div>
            </div>
        
<!-- Modal de Notificaciones (adaptativo) -->
<div id="notificationsModal" class="modal-custom" aria-hidden="true" role="dialog" style="display:none;">
  <div class="modal-content-custom" style="max-width:420px;">
    <div class="modal-header-custom">
      <button class="modal-close" id="closeNotif" aria-label="Cerrar notificaciones"><i class="fas fa-times"></i></button>
      <div style="padding:18px 20px 6px 20px;">
        <h3 style="margin:0;color:var(--text-color);font-weight:700;">Notificaciones</h3>
        <p style="margin:6px 0 0;color:var(--muted-text);font-size:0.9rem;">Últimas actividades y alertas</p>
      </div>
    </div>
    <div class="modal-body-custom" style="padding-top:0;">
      <div id="notificationsList" style="display:flex;flex-direction:column;gap:10px;max-height:50vh;overflow:auto;padding:10px 18px;">
        <!-- Notificaciones de ejemplo (puedes editarlas) -->
      </div>
      <div style="display:flex;gap:10px;padding:12px;border-top:1px solid rgba(255,255,255,0.03);">
        <button id="clearNotifications" class="welcome-btn-secondary" style="flex:1;">Limpiar</button>
        <button id="markReadNotifications" class="welcome-btn-secondary" style="flex:1;">Marcar leídas</button>
      </div>
    </div>
  </div>
</div>

</main>
        <footer>
            <p>Todos los derechos reservados por Suarzaxmod Corporation ™</p>
        </footer>
    </div>
    <!-- Radio Player Mini -->
    <div class="radio-player" id="radioPlayer">
        <div class="radio-player-mini">
            <img src="/placeholder.svg" alt="Estación actual" class="station-logo" id="stationLogo">
            <div class="station-info">
                <h4 class="station-name" id="stationName">Selecciona una estación</h4>
                <p class="station-meta" id="stationMeta">Posición: - | Clasificación: -</p>
            </div>
            <div class="player-controls">
                <button class="control-button play-button" id="playButton">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-button" id="expandPlayerBtn">
                    <i class="fas fa-expand"></i>
                </button>
                <button class="control-button" id="closePlayerBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>
    <!-- Radio Player Fullscreen -->
    <div class="radio-player-fullscreen" id="radioPlayerFullscreen">
        <div class="fullscreen-header">
            <h2 class="fullscreen-title"><i class="fas fa-broadcast-tower"></i> Radio Suarzaxmod</h2>
            <button class="close-fullscreen" id="closeFullscreenBtn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="fullscreen-content">
            <img src="/placeholder.svg" alt="Estación actual" class="fullscreen-station-logo" id="fullscreenStationLogo">
            <div>
                <h3 class="fullscreen-station-name" id="fullscreenStationName">Selecciona una estación</h3>
                <p class="fullscreen-station-meta" id="fullscreenStationMeta">Posición: - | Clasificación: -</p>
            </div>
            <div class="fullscreen-controls">
                <button class="fullscreen-control" id="prevStationBtn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="fullscreen-control fullscreen-play" id="fullscreenPlayBtn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="fullscreen-control" id="nextStationBtn">
                    <i class="fas fa-step-forward"></i>
                </button>
            </div>
            <div class="station-list-container">
                <h4 class="station-list-title">Todas las estaciones</h4>
                <div class="station-list" id="stationList"></div>
            </div>
        </div>
    </div>
    <!-- Profile Modal -->
    <div class="modal-custom" id="profileModal">
        <div class="modal-content-custom">
            <button class="modal-close" id="closeProfileBtn">
                <!-- Cambiar X por flecha para volver a pantalla principal -->
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="modal-header-custom">
                <h3 style="color: white; margin: 0; font-size: 1.3rem;">
                    <i class="fas fa-user-circle"></i> Mi Perfil
                </h3>
            </div>
            <div class="modal-body-custom">
                <div class="user-info-display" id="userInfoDisplay">
                    <h4 style="margin-bottom: 15px; color: var(--primary-color);">
                        <i class="fas fa-user-check"></i> Información del Usuario
                    </h4>
                    <div class="user-info-item">
                        <span class="user-info-label">Nombre:</span>
                        <span class="user-info-value" id="displayName">-</span>
                    </div>
                    <div class="user-info-item">
                        <span class="user-info-label">Email:</span>
                        <span class="user-info-value" id="displayEmail">-</span>
                    </div>
                    <div class="user-info-item">
                        <span class="user-info-label">Edad:</span>
                        <span class="user-info-value" id="displayAge">-</span>
                    </div>
                    <div class="user-info-item">
                        <span class="user-info-label">Género:</span>
                        <span class="user-info-value" id="displayGender">-</span>
                    </div>
                    <div class="user-info-item">
                        <span class="user-info-label">Estado:</span>
                        <span class="user-info-value" style="color: #28a745;">
                            <i class="fas fa-circle" style="font-size: 0.7rem;"></i> Conectado
                        </span>
                    </div>
                    <button class="btn-logout" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Cerrar sesión
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <h4 class="notification-title">Notificación</h4>
            <p class="notification-message">Mensaje de notificación</p>
        </div>
    </div>

    <!-- Category Fullscreen Modal (Generic) -->
    <div class="category-fullscreen-modal" id="categoryFullscreenModal">
        <div class="category-fullscreen-content">
            <button class="close-fullscreen-overlay" id="closeCategoryFullscreenBtn">
                <!-- Cambiar X por flecha para volver a pantalla principal -->
                <i class="fas fa-arrow-left"></i>
            </button>
            <!-- Dynamic content will be injected here -->
            <div id="categoryDynamicContent" style="width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center;"></div>
        </div>
    </div>

    <!-- Audio Player -->
    <audio id="audioPlayer" crossorigin="anonymous">
        <source src="/placeholder.svg" type="audio/mpeg">
    </audio>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- ========================================
         SECCIÓN: MODALES Y VENTANAS EMERGENTES
         ======================================== -->

<!-- Modal de Inicio -->
<div class="modal fade" id="homeModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
                <!-- Cambiar X por flecha para volver a pantalla principal -->
        <div class="modal-content">
            <div class="modal-header">
                <!-- Cambiado X por flecha y agregado icono oficial -->
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h4 class="modal-title">
                    <i class="fas fa-building me-2"></i>Inicio - Suarzaxmod Corporation
                </h4>
            </div>
            <div class="modal-body">
                <div class="text-center mb-4">
                    <i class="fas fa-building display-1 text-primary mb-3"></i>
                    <h2>Bienvenido a Suarzaxmod Corporation</h2>
                    <p class="lead">Tu socio tecnológico de confianza</p>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="feature-card">
                            <i class="fas fa-rocket text-primary mb-3"></i>
                            <h4>Innovación</h4>
                            <p>Soluciones tecnológicas de vanguardia para impulsar tu negocio.</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="feature-card">
                            <i class="fas fa-shield-alt text-success mb-3"></i>
                            <h4>Seguridad</h4>
                            <p>Protección avanzada para tus datos y sistemas críticos.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Acerca de -->
      <i class="fas fa-arrow-left"></i>             
<div class="modal fade" id="aboutModal" tabindex="-1">
                <!-- Cambiar X por flecha para volver a pantalla principal -->
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <!-- Cambiado X por flecha y agregado icono oficial -->
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h4 class="modal-title">
                    <i class="fas fa-building me-2"></i>Acerca de - Suarzaxmod Corporation
                </h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 text-center mb-4">
                        <i class="fas fa-building display-1 text-primary mb-3"></i>
                    </div>
                    <div class="col-md-8">
                        <h3>Nuestra Historia</h3>
                        <p>Suarzaxmod Corporation nació con la visión de transformar el panorama tecnológico empresarial. Desde nuestros inicios, nos hemos dedicado a proporcionar soluciones innovadoras que impulsan el crecimiento y la eficiencia de nuestros clientes.</p>
                        
                        <h4>Nuestra Misión</h4>
                        <p>Empoderar a las empresas con tecnología de vanguardia, ofreciendo soluciones personalizadas que generen valor real y sostenible.</p>
                        
                        <h4>Nuestros Valores</h4>
                        <ul>
                            <li><strong>Innovación:</strong> Buscamos constantemente nuevas formas de resolver problemas.</li>
                            <li><strong>Calidad:</strong> Nos comprometemos con la excelencia en cada proyecto.</li>
                            <li><strong>Integridad:</strong> Actuamos con transparencia y honestidad.</li>
                            <li><strong>Colaboración:</strong> Trabajamos como socios estratégicos de nuestros clientes.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Servicios -->
<div class="modal fade" id="servicesModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
                <!-- Cambiar X por flecha para volver a pantalla principal -->
            <div class="modal-header">
                <!-- Cambiado X por flecha y agregado icono oficial -->
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h4 class="modal-title">
                    <i class="fas fa-building"></i>Servicios-Suarzaxmod Corporation
                </h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="service-card">
                            <i class="fas fa-code text-primary mb-3"></i>
                            <h4>Desarrollo de Software</h4>
                            <p>Aplicaciones web y móviles personalizadas utilizando las últimas tecnologías.</p>
                            <ul>
                                <li>Aplicaciones Web Responsivas</li>
                                <li>Aplicaciones Móviles Nativas</li>
                                <li>APIs y Microservicios</li>
                                <li>Sistemas de Gestión</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="service-card">
                            <i class="fas fa-cloud text-info mb-3"></i>
                            <h4>Soluciones en la Nube</h4>
                            <p>Migración y optimización de infraestructura en plataformas cloud.</p>
                            <ul>
                                <li>Migración a AWS/Azure/GCP</li>
                                <li>Arquitecturas Serverless</li>
                                <li>DevOps y CI/CD</li>
                                <li>Monitoreo y Optimización</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="service-card">
                            <i class="fas fa-shield-alt text-success mb-3"></i>
                            <h4>Ciberseguridad</h4>
                            <p>Protección integral de sistemas y datos empresariales.</p>
                            <ul>
                                <li>Auditorías de Seguridad</li>
                                <li>Implementación de Firewalls</li>
                                <li>Gestión de Identidades</li>
                                <li>Respuesta a Incidentes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Nuevo Modal de Calendario -->
<div class="modal fade" id="calendarModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h4 class="modal-title">
                    <i class="fas fa-building"></i>Calendario_Suarzaxmod
                </h4>
            </div>
            <div class="modal-body p-0">
                <iframe src="https://calendarioventana.blogspot.com/?m=0" 
                        style="border: 0" 
                        width="100%" 
                        height="600" 
                        frameborder="0" 
                        scrolling="no">
                </iframe>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Contacto -->
<div class="modal fade" id="contactModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <!-- Cambiado X por flecha y agregado icono oficial -->
                <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h5 class="modal-title">
                    <i class="fas fa-building me-2"></i>Contacto - Suarzaxmod Corporation
                </h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h4>Información de Contacto</h4>
                        <div class="contact-info">
                            <div class="contact-item">
                                <i class="fas fa-map-marker-alt text-primary"></i>
                                <div>
                                    <strong>Dirección:</strong><br>
                                    Av. Tecnológica 123<br>
                                    Ciudad de México, México
                                </div>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-phone text-success"></i>
                                <div>
                                    <strong>Teléfono:</strong><br>
                                    +52 55 1234 5678
                                </div>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-envelope text-info"></i>
                                <div>
                                    <strong>Email:</strong><br>
                                    contacto@suarzaxmod.com
                                </div>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-clock text-warning"></i>
                                <div>
                                    <strong>Horario:</strong><br>
                                    Lun - Vie: 9:00 AM - 6:00 PM<br>
                                    Sáb: 9:00 AM - 2:00 PM
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h4>Envíanos un Mensaje</h4>
                        <form id="contactForm">
                            <div class="mb-3">
                                <label for="contactName" class="form-label">Nombre</label>
                                <input type="text" class="form-control" id="contactName" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="contactEmail" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactSubject" class="form-label">Asunto</label>
                                <input type="text" class="form-control" id="contactSubject" required>
                            </div>
                            <div class="mb-3">
                                <label for="contactMessage" class="form-label">Mensaje</label>
                                <textarea class="form-control" id="contactMessage" rows="4" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-paper-plane me-2"></i>Enviar Mensaje
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Inicio de Sesión -->
    <div class="modal fade" id="loginModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="btn-close-custom" data-bs-dismiss="modal">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h5 class="modal-title">
                        <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesión
                    </h5>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="loginUsername" class="form-label">Usuario</label>
                            <input type="text" class="form-control" id="loginUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Contraseña</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt me-2"></i>Ingresar
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // =========================
        // FUNCIÓN: Mostrar Modal
        // Descripción: Abre cualquier modal usando Bootstrap
        // Parámetro: modalId - ID del modal a mostrar
        // =========================
        function showModal(modalId) {
            var modal = new bootstrap.Modal(document.getElementById(modalId));
            modal.show();
        }

        // =========================
        // FUNCIÓN: Alternar Tema
        // Descripción: Cambia entre modo oscuro y claro
        // Cambia el icono del botón según el tema activo
        // =========================
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            var themeIcon = document.getElementById('themeIcon');
            if (document.body.classList.contains('light-mode')) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ocultar la animación de carga después de 4 segundos
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.classList.add('hidden');
            }, 4000);
            AOS.init({
                duration: 800,
                easing: 'ease-in-out',
                once: true
            });
            const swiper = new Swiper('.swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                speed: 800,
                effect: "coverflow",
                coverflowEffect: {
                    rotate: 0,
                    stretch: 0,
                    depth: 100,
                    modifier: 1,
                    slideShadows: true,
                },
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                    dynamicBullets: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                breakpoints: {
                    576: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    992: {
                        slidesPerView: 3,
                        spaceBetween: 30,
                    }
                },
                preloadImages: true,
                lazy: {
                    loadPrevNext: true,
                    loadPrevNextAmount: 2,
                },
                watchSlidesProgress: true,
                watchSlidesVisibility: true,
                observer: true,
                observeParents: true
            });
            window.app = new App(); // Make app instance globally accessible
        });

        class App {
            constructor() {
                this.backgroundManager = new BackgroundManager();
                this.radioPlayer = new RadioPlayer();
                this.uiManager = new UIManager();
                this.authManager = new AuthManager(this.uiManager); // Pass UIManager to AuthManager
                this.searchManager = new SearchManager(this.uiManager); // Initialize SearchManager, passing uiManager
                this.preventDefaultBehaviors();
            }
            preventDefaultBehaviors() {
                document.addEventListener('contextmenu', e => e.preventDefault());
                document.addEventListener('dragstart', e => e.preventDefault());
                document.addEventListener('selectstart', e => {
                    if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                    }
                });
                document.addEventListener('keydown', e => {
                    // Allow F12 for dev tools, but prevent others
                    if (e.keyCode === 123) return; // F12
                    if (
                        (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) || // Ctrl+Shift+I, Ctrl+Shift+J
                        (e.ctrlKey && e.keyCode === 85) // Ctrl+U
                    ) {
                        e.preventDefault();
                    }
                });
            }
        }

        class BackgroundManager {
            constructor() {
                this.container = document.getElementById('backgroundContainer');
                this.images = Array.from(this.container.querySelectorAll('.background-image'));
                this.imageUrls = [
                    "https://i30.servimg.com/u/f30/20/30/93/75/milad-10.jpg",
                    "https://i30.servimg.com/u/f30/20/30/93/75/rajat-10.jpg",
                    "https://i30.servimg.com/u/f30/20/30/93/75/umbert10.jpg",
                    "https://i30.servimg.com/u/f30/20/30/93/75/though10.jpg",
                    "https://i30.servimg.com/u/f30/20/30/93/75/9421ed10.gif"
                ];
                this.currentIndex = 0;
                this.init();
            }
            init() {
                this.images.forEach((element, index) => {
                    if (index < this.imageUrls.length) {
                        element.style.backgroundImage = `url(${this.imageUrls[index]})`;
                    }
                });
                this.images[0].classList.add('active');
                this.startRotation();
            }
            startRotation() {
                setInterval(() => {
                    this.images.forEach(element => element.classList.remove('active'));
                    this.currentIndex = (this.currentIndex + 1) % this.images.length;
                    this.images[this.currentIndex].classList.add('active');
                }, 8000);
            }
        }

        class RadioPlayer {
            constructor() {
                this.audioPlayer = document.getElementById('audioPlayer');
                this.radioPlayer = document.getElementById('radioPlayer');
                this.radioPlayerFullscreen = document.getElementById('radioPlayerFullscreen');
                this.playButton = document.getElementById('playButton');
                this.fullscreenPlayBtn = document.getElementById('fullscreenPlayBtn');
                this.showRadioBtn = document.getElementById('showRadioBtn');
                this.closePlayerBtn = document.getElementById('closePlayerBtn');
                this.expandPlayerBtn = document.getElementById('expandPlayerBtn');
                this.closeFullscreenBtn = document.getElementById('closeFullscreenBtn');
                this.prevStationBtn = document.getElementById('prevStationBtn');
                this.nextStationBtn = document.getElementById('nextStationBtn');
                this.stationList = document.getElementById('stationList');
                
                this.isPlaying = false;
                this.isVisible = false;
                this.currentStation = null;
                this.currentStationIndex = 0;
                this.retryCount = 0;
                this.MAX_RETRIES = 5;
                
                this.stations = [
                    { id: 23, name: "Olímpica Stereo", frequency: "105.9 FM", city: "Monteriá", image: "https://i30.servimg.com/u/f30/20/30/93/75/olimpi10.png" },
                    { id: 2470, name: "Mix Radio", frequency: "96.3 FM", city: "Medellín", image: "https://i30.servimg.com/u/f30/20/30/93/75/mix-ra10.png" },
                    { id: 2123, name: "Radio Potente", frequency: "98.7 FM", city: "Cali", image: "https://i30.servimg.com/u/f30/20/30/93/75/radio-10.png" },
                    { id: 1210, name: "RADIO GRACIA Y AMOR", frequency: "103.5 FM", city: "Barranquilla", image: "https://i30.servimg.com/u/f30/20/30/93/75/gracia10.png" },
                    { id: 682, name: "Carbon Stereo", frequency: "94.1 FM", city: "Bucaramanga", image: "https://i30.servimg.com/u/f30/20/30/93/75/carbon10.png" },
                    { id: 163, name: "Radio Fantástica", frequency: "100.7 FM", city: "Cartagena", image: "https://i30.servimg.com/u/f30/20/30/93/75/fantas10.png" },
                    { id: 157, name: "La Reina", frequency: "98.5 FM", city: "Santa Marta", image: "https://i30.servimg.com/u/f30/20/30/93/75/reina-10.png" },
                    { id: 1624, name: "BPM Electro", frequency: "101.3 FM", city: "Pereira", image: "https://i30.servimg.com/u/f30/20/30/93/75/bpm-el10.png" },
                    { id: 103, name: "RadioAcktiva", frequency: "97.9 FM", city: "Manizales", image: "https://i30.servimg.com/u/f30/20/30/93/75/radioa10.png" },
                    { id: 28, name: "Olímpica Stereo", frequency: "93.7 FM", city: "Valledupar", image: "https://i30.servimg.com/u/f30/20/30/93/75/olimpi10.png" },
                    { id: 1, name: "RCN Radio", frequency: "93.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/rcn-ra10.png" },
                    { id: 2, name: "Caracol Radio", frequency: "100.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/caraco10.png" },
                    { id: 3, name: "La Mega", frequency: "90.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/la-meg10.png" },
                    { id: 4, name: "Los 40 Principales", frequency: "97.4 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/los-4010.png" },
                    { id: 5, name: "Tropicana", frequency: "102.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/tropic10.png" },
                    { id: 6, name: "Radio Uno", frequency: "88.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/radio-10.png" },
                    { id: 7, name: "Candela Stereo", frequency: "101.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/candel10.png" },
                    { id: 8, name: "Vibra FM", frequency: "104.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/vibra-10.png" },
                    { id: 9, name: "Blu Radio", frequency: "96.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/blu-ra10.png" },
                    { id: 10, name: "La FM", frequency: "94.9 FM", city: "Bogotá", image: "https://i30.servimg.com/u/f30/20/30/93/75/la-fm-10.png" }
                ];
                this.init();
            }
            init() {
                // =========================
                // EVENT LISTENERS DEL REPRODUCTOR DE RADIO
                // Descripción: Configura todos los eventos del reproductor
                // =========================
                this.showRadioBtn.addEventListener('click', () => this.toggleRadioPlayer());
                this.closePlayerBtn.addEventListener('click', () => this.hideRadioPlayer());
                this.expandPlayerBtn.addEventListener('click', () => this.showFullscreenPlayer());
                this.closeFullscreenBtn.addEventListener('click', () => this.hideFullscreenPlayer());
                this.playButton.addEventListener('click', () => this.togglePlayback());
                this.fullscreenPlayBtn.addEventListener('click', () => this.togglePlayback());
                this.prevStationBtn.addEventListener('click', () => this.previousStation());
                this.nextStationBtn.addEventListener('click', () => this.nextStation());
                
                this.audioPlayer.addEventListener('error', () => this.retryPlayback());
                this.audioPlayer.addEventListener('playing', () => {
                    this.retryCount = 0;
                });
                
                this.createStationList();
                
                if ('mediaSession' in navigator) {
                    this.setupMediaSession();
                }
            }
            toggleRadioPlayer() {
                if (!this.isVisible) {
                    if (!this.currentStation) {
                        this.loadStation(this.stations[0].id);
                    }
                    this.radioPlayer.classList.add('active');
                    this.isVisible = true;
                } else {
                    this.hideRadioPlayer();
                }
            }
            
            // =========================
            // FUNCIÓN: Ocultar Reproductor de Radio
            // Descripción: Oculta el reproductor mini y actualiza estado
            // =========================
            hideRadioPlayer() {
                this.radioPlayer.classList.remove('active');
                this.isVisible = false;
            }
            
            // =========================
            // FUNCIÓN: Mostrar Reproductor en Pantalla Completa
            // Descripción: Abre el reproductor en modo fullscreen
            // =========================
            showFullscreenPlayer() {
                this.radioPlayerFullscreen.style.display = 'flex';
                this.radioPlayer.classList.remove('active');
            }
            
            // =========================
            // FUNCIÓN: Ocultar Reproductor en Pantalla Completa
            // Descripción: Cierra el modo fullscreen y restaura mini player si estaba activo
            // =========================
            hideFullscreenPlayer() {
                this.radioPlayerFullscreen.style.display = 'none';
                if (this.isVisible) {
                    this.radioPlayer.classList.add('active');
                }
            }
            togglePlayback() {
                this.isPlaying = !this.isPlaying;
                this.updatePlayButtonUI();
                
                if (this.isPlaying) {
                    this.audioPlayer.play().catch(error => {
                        console.error("Error al reproducir:", error);
                        setTimeout(() => this.retryPlayback(), 1000); // Retry immediately on play error
                    });
                } else {
                    this.audioPlayer.pause();
                }
                
                if ('mediaSession' in navigator) {
                    navigator.mediaSession.playbackState = this.isPlaying ? 'playing' : 'paused';
                }
            }
            updatePlayButtonUI() {
                const playIcon = this.isPlaying ? 'fa-pause' : 'fa-play';
                this.playButton.querySelector('i').className = `fas ${playIcon}`;
                this.fullscreenPlayBtn.querySelector('i').className = `fas ${playIcon}`;
            }
            async loadStation(id) {
                try {
                    const station = this.stations.find(s => s.id === id);
                    if (!station) return;
                    
                    const data = await this.fetchStationData(id);
                    
                    if (data && data.data && data.data.station) {
                        this.currentStation = {
                            ...station,
                            ...data.data.station
                        };
                        
                        document.getElementById('stationLogo').src = this.currentStation.image;
                        document.getElementById('fullscreenStationLogo').src = this.currentStation.image;
                        this.audioPlayer.src = this.currentStation.stream;
                        
                        let title = this.currentStation.title || this.currentStation.name;
                        if (this.currentStation.frequency) {
                            title = `${title} - ${this.currentStation.frequency} ${this.currentStation.city}`;
                        }
                        document.getElementById('stationName').textContent = title;
                        document.getElementById('fullscreenStationName').textContent = title;
                        
                        const stationInfo = `Posición: ${this.currentStation.position || '-'} | Clasificación: ${this.currentStation.rating || '0'}`;
                        document.getElementById('stationMeta').textContent = stationInfo;
                        document.getElementById('fullscreenStationMeta').textContent = stationInfo;
                        
                        this.updateMediaSession(this.currentStation);
                        
                        this.isPlaying = true;
                        this.updatePlayButtonUI();
                        this.audioPlayer.play().catch(error => {
                            console.error("Error al reproducir:", error);
                            this.retryPlayback();
                        });
                        
                        this.retryCount = 0;
                        this.updateActiveStation(id);
                        this.currentStationIndex = this.stations.findIndex(s => s.id === id);
                    }
                } catch (error) {
                    console.error("Error al cargar la estación:", error);
                    this.retryPlayback();
                }
            }
            async fetchStationData(id) {
                try {
                    const response = await fetch("https://emisorasenvivo.com.co/api-backend.php", {
                        method: "POST",
                        headers: {"Content-Type": "application/json"},
                        body: JSON.stringify({ id: id, action: "station-for-widget" })
                    });
                    return await response.json();
                } catch (error) {
                    console.error("Error en la petición:", error);
                    return null;
                }
            }
            createStationList() {
                const fragment = document.createDocumentFragment();
                
                this.stations.forEach(station => {
                    const stationElement = document.createElement('div');
                    stationElement.className = 'station-item';
                    stationElement.dataset.id = station.id;
                    
                    stationElement.innerHTML = `
                        <img src="${station.image}" alt="${station.name}" class="station-item-logo">
                        <div class="station-item-info">
                            <h5 class="station-item-name">${station.name}</h5>
                            <div class="station-item-freq">${station.frequency} ${station.city}</div>
                        </div>
                    `;
                    
                    stationElement.addEventListener('click', () => {
                        this.loadStation(station.id);
                    });
                    
                    fragment.appendChild(stationElement);
                });
                
                this.stationList.appendChild(fragment);
            }
            updateActiveStation(id) {
                const stationItems = document.querySelectorAll('.station-item');
                stationItems.forEach(item => {
                    item.classList.remove('active');
                    if (parseInt(item.dataset.id) === id) {
                        item.classList.add('active');
                    }
                });
            }
            previousStation() {
                this.currentStationIndex = (this.currentStationIndex - 1 + this.stations.length) % this.stations.length;
                this.loadStation(this.stations[this.currentStationIndex].id);
            }
            nextStation() {
                this.currentStationIndex = (this.currentStationIndex + 1) % this.stations.length;
                this.loadStation(this.stations[this.currentStationIndex].id);
            }
            setupMediaSession() {
                if (!('mediaSession' in navigator)) return;
                
                navigator.mediaSession.setActionHandler('play', () => {
                    this.audioPlayer.play();
                    this.isPlaying = true;
                    this.updatePlayButtonUI();
                });
                
                navigator.mediaSession.setActionHandler('pause', () => {
                    this.audioPlayer.pause();
                    this.isPlaying = false;
                    this.updatePlayButtonUI();
                });
                
                navigator.mediaSession.setActionHandler('previoustrack', () => {
                    this.previousStation();
                });
                
                navigator.mediaSession.setActionHandler('nexttrack', () => {
                    this.nextStation();
                });
            }
            updateMediaSession(station) {
                if (!('mediaSession' in navigator)) return;
                
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: station.title || station.name,
                    artist: station.frequency ? `${station.frequency} ${station.city}` : 'Radio Suarzaxmod',
                    album: 'Radio App Suarzaxmod',
                    artwork: [
                        { src: station.image, sizes: '96x96', type: 'image/png' },
                        { src: station.image, sizes: '128x128', type: 'image/png' },
                        { src: station.image, sizes: '192x192', type: 'image/png' },
                        { src: station.image, sizes: '256x256', type: 'image/png' },
                        { src: station.image, sizes: '384x384', type: 'image/png' },
                        { src: station.image, sizes: '512x512', type: 'image/png' }
                    ]
                });
            }
            retryPlayback() {
                if (this.retryCount < this.MAX_RETRIES) {
                    this.retryCount++;
                    console.log(`Reintentando reproducción (intento ${this.retryCount})...`);
                    this.audioPlayer.load();
                    this.audioPlayer.play().catch(error => {
                        console.error(`Error en el reintento ${this.retryCount}:`, error);
                        setTimeout(() => this.retryPlayback(), 2000 * this.retryCount);
                    });
                } else {
                    console.error("Número máximo de reintentos alcanzado.");
                    if (this.currentStation) {
                        this.loadStation(this.currentStation.id);
                    }
                    this.retryCount = 0;
                }
            }
        }

        class UIManager {
            constructor() {
                this.profileModal = document.getElementById('profileModal');
                this.showProfileBtn = document.getElementById('showProfileBtn');
                this.closeProfileBtn = document.getElementById('closeProfileBtn');
                this.toggleThemeBtn = document.getElementById('toggleThemeBtn');
                this.toggleFullscreenBtn = document.getElementById('toggleFullscreenBtn');
                this.moreMenuBtn = document.getElementById('moreMenuBtn');
                this.moreMenuContent = document.getElementById('moreMenuContent');
                this.userInfoDisplay = document.getElementById('userInfoDisplay');
                this.logoutBtn = document.getElementById('logoutBtn');
                this.notification = document.getElementById('notification');
                this.notificationTitle = this.notification.querySelector('.notification-title');
                this.notificationMessage = this.notification.querySelector('.notification-message');
                this.notificationIcon = this.notification.querySelector('.notification-icon');
                // Category Fullscreen Modal elements
                this.categoryFullscreenModal = document.getElementById('categoryFullscreenModal');
                this.closeCategoryFullscreenBtn = document.getElementById('closeCategoryFullscreenBtn');
                this.categoryDynamicContent = document.getElementById('categoryDynamicContent');
                this.isFullscreen = false;
                this.isMoreMenuOpen = false;
                
                this.categoryData = {
                    'libros': {
                        title: 'Sección Libros',
                        type: 'iframe',
                        url: 'https://librosonlinesxm.blogspot.com/?m=0'
                    },
                    'aplicacion': { title: 'Sección Aplicaciones', type: 'iframe', url: 'https://sxmod96aplicaciones.blogspot.com/?m=0' },
                    'electricidad': { title: 'Sección Electricidad', type: 'iframe', url: 'https://electricidadseccion.blogspot.com/?m=0' },
                    'pelisx': { title: 'pelisx', type: 'iframe', url: 'https://cinehousesuarzaxmod.blogspot.com/?m=0' },
                    'videos-plc': { title: 'Videos PLC', type: 'iframe', url: 'https://seccionvideosuarzaxmod.blogspot.com/?m=0' },
                    'sistema': { title: 'Sección Sistema', type: 'iframe', url: 'https://nodisponiblesitio.blogspot.com/?m=0' },
                    'simuladores': { title: 'Sección Simuladores', type: 'iframe', url: 'https://seccionsimuladores.blogspot.com/?m=0' },
                    'program-for-windows': { title: 'Programas para Windows', type: 'iframe', url: 'https://seccionprogramas.blogspot.com/?m=0' },
                    'notificaciones': {
                        title: 'Notificaciones del Sistema',
                        type: 'internal',
                        htmlContent: `
                            <p>Aquí verás tus notificaciones importantes:</p>
                            <ul style="list-style: none; padding: 0; text-align: left; width: 100%; max-width: 400px; margin-top: 20px;">
                                <li style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-info-circle" style="color: var(--primary-color);"></i>
                                    <span>Nueva actualización disponible.</span>
                                </li>
                                <li style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-bell" style="color: var(--accent-color);"></i>
                                    <span>Recordatorio: Revisa la sección de libros.</span>
                                </li>
                                <li style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-check-circle" style="color: var(--success-color);"></i>
                                    <span>Tu perfil ha sido actualizado.</span>
                                </li>
                            </ul>
                        `
                    },
                    'Suarzaxmpod-App': { title: 'Apks', type: 'iframe', url: 'https://sxmod96aplicaciones.blogspot.com/?m=0' }, // Example, replace with actual URL
                    'espacio-apk': { title: 'Espacio APK', type: 'iframe', url: 'https://espacioapk.com/' },
                    'modi-limitado': { title: 'Modi Limitado', type: 'iframe', url: 'https://modilimitado.io/' },
                    'all-mod-apk': { title: 'All Mod APK', type: 'iframe', url: 'https://allmodapk.de/' },
                    'apk-gstore': { title: 'APK GStore', type: 'iframe', url: 'https://apkgstore.com/' },
                    '123-juegos': { title: 'Juega online', type: 'iframe', url: 'https://poki.com/es' },
                    'donaciones': { title: 'Donaciones', type: 'internal', htmlContent: '<p>Apoya nuestro proyecto. Aquí puedes integrar opciones de donación.</p><p>¡Cada contribución nos ayuda a crecer!</p>' },
                    'radio': {
                        title: 'Radio Suarzaxmod',
                        type: 'action', // Special type for direct action
                        action: () => app.radioPlayer.showFullscreenPlayer()
                    }
                };
                this.init();
            }
            init() {
                // =========================
                // EVENT LISTENERS DEL UI MANAGER
                // Descripción: Configura todos los eventos de la interfaz de usuario
                // =========================
                this.showProfileBtn.addEventListener('click', () => this.showProfileModal());
                this.closeProfileBtn.addEventListener('click', () => this.hideProfileModal());
                this.toggleThemeBtn.addEventListener('click', () => this.toggleTheme());
                this.toggleFullscreenBtn.addEventListener('click', () => this.toggleFullscreen());
                this.moreMenuBtn.addEventListener('click', () => this.toggleMoreMenu());
                this.logoutBtn.addEventListener('click', () => this.logout());
                
                // Category Fullscreen Modal Event Listener
                this.closeCategoryFullscreenBtn.addEventListener('click', () => this.closeCategoryFullscreen());
                document.addEventListener('click', (e) => {
                    if (this.isMoreMenuOpen && !this.moreMenuBtn.contains(e.target) && !this.moreMenuContent.contains(e.target)) {
                        this.closeMoreMenu();
                    }
                });
                
                this.profileModal.addEventListener('click', (e) => {
                    if (e.target === this.profileModal) {
                        this.hideProfileModal();
                    }
                });
                
                this.loadUserProfile();
            }
            showProfileModal() {
                console.log("[UIManager] Mostrando modal de perfil.");
                this.profileModal.style.display = 'flex';
                this.closeMoreMenu();
            }
            
            // =========================
            // FUNCIÓN: Ocultar Modal de Perfil
            // Descripción: Cierra el modal del perfil de usuario
            // =========================
            hideProfileModal() {
                console.log("[UIManager] Ocultando modal de perfil.");
                this.profileModal.style.display = 'none';
            }
            
            // =========================
            // FUNCIÓN: Alternar Tema
            // Descripción: Cambia entre modo oscuro y claro, actualiza icono
            // =========================
            toggleTheme() {
                document.body.classList.toggle('light-mode');
                const isLightMode = document.body.classList.contains('light-mode');
                localStorage.setItem('theme', isLightMode ? 'light' : 'dark');
                
                const icon = this.toggleThemeBtn.querySelector('i');
                icon.className = isLightMode ? 'fas fa-sun' : 'fas fa-moon';
                
                this.closeMoreMenu();
            }
            toggleFullscreen() {
                if (!this.isFullscreen) {
                    if (document.documentElement.requestFullscreen) {
                        document.documentElement.requestFullscreen();
                    } else if (document.documentElement.webkitRequestFullscreen) {
                        document.documentElement.webkitRequestFullscreen();
                    } else if (document.documentElement.msRequestFullscreen) {
                        document.documentElement.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
                
                this.isFullscreen = !this.isFullscreen;
                const icon = this.toggleFullscreenBtn.querySelector('i');
                icon.className = this.isFullscreen ? 'fas fa-compress' : 'fas fa-expand';
                
                this.closeMoreMenu();
            }
            toggleMoreMenu() {
                this.isMoreMenuOpen = !this.isMoreMenuOpen;
                this.moreMenuContent.classList.toggle('show', this.isMoreMenuOpen);
            }
            closeMoreMenu() {
                this.isMoreMenuOpen = false;
                this.moreMenuContent.classList.remove('show');
            }
            loadUserProfile() {
                const userData = JSON.parse(localStorage.getItem('userData'));
                if (userData) {
                    document.getElementById('displayName').textContent = userData.name;
                    document.getElementById('displayEmail').textContent = userData.email;
                    document.getElementById('displayAge').textContent = userData.age;
                    document.getElementById('displayGender').textContent = this.getGenderText(userData.gender);
                    
                    this.userInfoDisplay.style.display = 'block';
                    document.getElementById('userStatusIndicator').classList.add('active');
                }
            }
            getGenderText(gender) {
                const genderMap = {
                    'male': 'Masculino',
                    'female': 'Femenino',
                    'other': 'Otro',
                    'prefer-not-to-say': 'Prefiero no decir'
                };
                return genderMap[gender] || gender;
            }
            logout() {
                localStorage.removeItem('userData');
                localStorage.removeItem('isLoggedIn');
                this.showNotification('Sesión cerrada', 'Has cerrado sesión exitosamente', 'success');
                this.hideProfileModal();
                setTimeout(() => {
                    location.reload();
                }, 1500);
            }
            showNotification(title, message, type = 'info') {
                console.log(`[UIManager] Mostrando notificación: ${title} - ${message} (${type})`);
                this.notificationTitle.textContent = title;
                this.notificationMessage.textContent = message;
                this.notificationIcon.className = `notification-icon fas ${type === 'success' ? 'fa-check' : type === 'error' ? 'fa-times' : 'fa-info'}`;
                this.notificationIcon.classList.add(type); // Add type class for background color
                
                this.notification.classList.add('show');
                
                setTimeout(() => {
                    console.log("[UIManager] Ocultando notificación.");
                    this.notification.classList.remove('show');
                    this.notificationIcon.classList.remove(type); // Clean up type class
                }, 3000);
            }
            // New: Open Category Fullscreen Modal
            openCategoryFullscreen(categoryId) {
                console.log(`[UIManager] Intentando abrir categoría: ${categoryId}`);
                const categoryInfo = this.categoryData[categoryId];
                if (!categoryInfo) {
                    this.showNotification('Error', 'Categoría no encontrada.', 'error');
                    console.error(`[UIManager] Información de categoría no encontrada para: ${categoryId}`);
                    return;
                }
                console.log(`[UIManager] Información de categoría encontrada:`, categoryInfo);
                // Manejar tipos de acción especiales (ej. abrir el reproductor de radio)
                if (categoryInfo.type === 'action' && typeof categoryInfo.action === 'function') {
                    console.log(`[UIManager] Ejecutando acción para la categoría: ${categoryId}`);
                    categoryInfo.action();
                    return; // No abrir el modal genérico para acciones
                }
                this.categoryDynamicContent.innerHTML = ''; // Limpiar contenido previo
                if (categoryInfo.type === 'iframe' && categoryInfo.url) {
                    console.log(`[UIManager] Cargando iframe para: ${categoryInfo.url}`);
                    // Añadir indicador de carga
                    const loadingDiv = document.createElement('div');
                    loadingDiv.className = 'iframe-loading-indicator';
                    loadingDiv.innerHTML = `
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                        <p>Cargando contenido de ${categoryInfo.title}...</p>
                        <p style="font-size: 0.8rem; color: var(--muted-text);">Si la página no carga, es posible que el sitio no permita ser incrustado (problema de CORS/X-Frame-Options).</p>
                    `;
                    this.categoryDynamicContent.appendChild(loadingDiv);
                    const iframe = document.createElement('iframe');
                    iframe.src = categoryInfo.url;
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.border = 'none';
                    iframe.style.borderRadius = '0';
                    iframe.style.display = 'none';

                    // Cambios solo para pelisx y videos-plc
                    if (categoryId === 'pelisx' || categoryId === 'videos-plc') {
                        iframe.setAttribute('allowfullscreen', '');
                        iframe.setAttribute('webkitallowfullscreen', '');
                        iframe.setAttribute('mozallowfullscreen', '');
                        iframe.setAttribute('allow', 'autoplay; fullscreen; encrypted-media; picture-in-picture');

                        // Botón flotante fullscreen
                        const fsBtn = document.createElement('button');
                        fsBtn.className = 'iframe-force-fullscreen-btn';
                        fsBtn.title = 'Pantalla completa';
                        fsBtn.innerHTML = '<i class="fas fa-expand"></i>';
                        fsBtn.style.position = 'absolute';
                        fsBtn.style.top = '12px';
                        fsBtn.style.right = '12px';
                        fsBtn.style.zIndex = '9999';
                        fsBtn.style.background = 'rgba(0,0,0,0.45)';
                        fsBtn.style.border = 'none';
                        fsBtn.style.color = 'white';
                        fsBtn.style.width = '44px';
                        fsBtn.style.height = '44px';
                        fsBtn.style.borderRadius = '8px';
                        fsBtn.style.display = 'flex';
                        fsBtn.style.alignItems = 'center';
                        fsBtn.style.justifyContent = 'center';
                        fsBtn.onclick = (ev) => {
                            ev.stopPropagation();
                            try {
                                if (iframe.requestFullscreen) iframe.requestFullscreen();
                                else if (iframe.webkitRequestFullscreen) iframe.webkitRequestFullscreen();
                                else if (iframe.mozRequestFullScreen) iframe.mozRequestFullScreen();
                                else if (iframe.msRequestFullscreen) iframe.msRequestFullscreen();
                            } catch (err) {
                                console.error('[UIManager] Error al solicitar fullscreen:', err);
                            }
                        };
                        this.categoryDynamicContent.appendChild(fsBtn);
                    }

                    iframe.onload = () => {
                        loadingDiv.style.display = 'none';
                        iframe.style.display = 'block';
                    };
                    iframe.onerror = () => {
                        loadingDiv.innerHTML = `
                            <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: var(--danger-color); margin-bottom: 15px;"></i>
                            <p class="iframe-error-message">No se pudo cargar el contenido de ${categoryInfo.title}.</p>
                        `;
                        iframe.remove();
                    };

                    this.categoryDynamicContent.appendChild(iframe);
} else if (categoryInfo.type === 'internal' && categoryInfo.htmlContent) {
                    console.log(`[UIManager] Cargando HTML interno para: ${categoryId}`);
                    this.categoryDynamicContent.innerHTML = categoryInfo.htmlContent;
                } else {
                    console.log(`[UIManager] Contenido no disponible para: ${categoryId}`);
                    this.categoryDynamicContent.innerHTML = '<p>Contenido no disponible para esta categoría.</p>';
                }
                this.categoryFullscreenModal.classList.add('show');
                document.body.style.overflow = 'hidden'; // Prevenir el scroll del body
                console.log(`[UIManager] El modal debería estar visible ahora para: ${categoryId}`);
            }
            
            // =========================
            // FUNCIÓN: Cerrar Modal de Categoría en Pantalla Completa
            // Descripción: Cierra el modal fullscreen de categorías y limpia contenido
            // =========================
            closeCategoryFullscreen() {
                console.log("[UIManager] Cerrando modal de categoría en pantalla completa.");
                this.categoryFullscreenModal.classList.remove('show');
                document.body.style.overflow = 'auto'; // Restaurar el scroll del body
                this.categoryDynamicContent.innerHTML = ''; // Limpiar contenido al cerrar
            }
        }
        class SearchManager {
            constructor(uiManager) { // uiManager is passed here
                this.uiManager = uiManager; // Store it
                this.mainSearchUI = document.getElementById('mainSearchUI');
                this.searchInput = document.getElementById('searchInput');
                this.searchResultsContainer = document.getElementById('searchResultsContainer');
                this.searchButton = document.getElementById('searchButton');
                this.finalSearchResults = document.getElementById('finalSearchResults');
                this.closeMainSearchUIBtn = document.getElementById('closeMainSearchUIBtn');
                this.searchableItems = [];
                this.initSearchableItems(); // This call needs to use this.uiManager
                this.init();
            }
            initSearchableItems() {
                this.searchableItems = []; // Clear to prevent duplicates if called multiple times
                // Add categories to searchable items
                for (const key in this.uiManager.categoryData) { // CORRECTED: Use this.uiManager
                    const category = this.uiManager.categoryData[key]; // CORRECTED: Use this.uiManager
                    if (category.type !== 'action') { // Exclude radio as it's an action
                        let description = '';
                        if (category.type === 'iframe') {
                            description = `Contenido externo de ${category.title}`;
                        } else if (category.type === 'internal') {
                            // For internal content, provide specific descriptions
                            if (key === 'notificaciones') {
                                description = 'Tus notificaciones y alertas del sistema.';
                            } else if (key === 'search') {
                                description = 'Herramienta para buscar contenido en la aplicación.';
                            } else if (key === 'donaciones') {
                                description = 'Apoya nuestro proyecto con una donación.';
                            } else {
                                description = `Información interna sobre ${category.title}.`;
                            }
                        }
                        this.searchableItems.push({
                            id: key,
                            name: category.title,
                            description: description,
                            type: category.type
                        });
                    }
                }
                // Add swiper data to searchable items (assuming it's still relevant for search)
                const swiperData = [
                    { id: 'apks', title: 'Suarzaxmod Apps', description: 'Oficiales de Suarzaxmod' },
                    { id: 'espacio-apk', title: 'Espacio APK', description: 'Descarga aplicaciones premium' },
                    { id: 'modi-limitado', title: 'Modi Limitado', description: 'Mods sin límites' },
                    { id: 'all-mod-apk', title: 'All Mod APK', description: 'Todos los mods en un solo lugar' },
                    { id: 'apk-gstore', title: 'APK GStore', description: 'Tu tienda de aplicaciones' },
                    { id: 'get-mods-apk', title: 'Get Mods APK', description: 'Descarga mods fácilmente' }
                ];
                swiperData.forEach(item => {
                    this.searchableItems.push({
                        id: item.id,
                        name: item.title,
                        description: item.description,
                        type: 'socio' // Indicate it's a partner
                    });
                });
            }
            init() {
                // =========================
                // EVENT LISTENER DEL SEARCH MANAGER
                // Descripción: Configura el evento para cerrar la búsqueda
                // =========================
                this.closeMainSearchUIBtn.addEventListener('click', () => this.hideSearchUI());
            }
            
            // =========================
            // FUNCIÓN: Alternar UI de Búsqueda
            // Descripción: Abre o cierra la interfaz de búsqueda según su estado actual
            // =========================
            toggleSearchUI() {
                if (this.mainSearchUI.classList.contains('show')) {
                    this.hideSearchUI();
                } else {
                    this.showSearchUI();
                }
            }
            
            // =========================
            // FUNCIÓN: Mostrar UI de Búsqueda
            // Descripción: Abre la interfaz de búsqueda y prepara el estado inicial
            // =========================
            showSearchUI() {
                console.log("[SearchManager] Mostrando UI de búsqueda principal.");
                this.mainSearchUI.classList.add('show');
                document.body.style.overflow = 'hidden'; // Prevenir el scroll del body
                this.searchInput.value = ''; // Limpiar búsqueda previa
                this.finalSearchResults.innerHTML = ''; // Limpiar resultados previos
                this.searchResultsContainer.innerHTML = ''; // Limpiar sugerencias
                this.searchResultsContainer.style.display = 'none'; // Ocultar sugerencias
                this.searchInput.focus(); // Enfocar el input para abrir el teclado
            }
            
            // =========================
            // FUNCIÓN: Ocultar UI de Búsqueda
            // Descripción: Cierra la interfaz de búsqueda y restaura el scroll
            // =========================
            hideSearchUI() {
                console.log("[SearchManager] Ocultando UI de búsqueda principal.");
                this.mainSearchUI.classList.remove('show');
                document.body.style.overflow = 'auto'; // Restaurar el scroll del body
            }
            
            // =========================
            // FUNCIÓN: Actualizar Sugerencias de Búsqueda
            // Descripción: Actualiza las sugerencias basadas en la consulta del usuario
            // =========================
            updateSearchSuggestions(query) {
                const lowerCaseQuery = query.toLowerCase().trim();
                this.searchResultsContainer.innerHTML = ''; // Clear previous suggestions
                if (lowerCaseQuery.length === 0) {
                    this.searchResultsContainer.style.display = 'none';
                    return;
                }
                const filteredResults = this.searchableItems.filter(item =>
                    item.name.toLowerCase().includes(lowerCaseQuery) ||
                    (item.description && item.description.toLowerCase().includes(lowerCaseQuery))
                );
                if (filteredResults.length > 0) {
                    filteredResults.forEach(result => {
                        const suggestionItem = document.createElement('div');
                        suggestionItem.className = 'search-suggestion-item';
                        suggestionItem.innerHTML = `
                            <strong>${result.name}</strong>
                            <small>${result.description.substring(0, 50)}${result.description.length > 50 ? '...' : ''}</small>
                        `;
                        suggestionItem.onclick = () => {
                            this.uiManager.openCategoryFullscreen(result.id); // Open the corresponding category
                            this.hideSearchUI(); // Hide search UI after opening category
                        };
                        this.searchResultsContainer.appendChild(suggestionItem);
                    });
                    this.searchResultsContainer.style.display = 'block';
                } else {
                    this.searchResultsContainer.style.display = 'none';
                }
            }
            performSearch(query) {
                const lowerCaseQuery = query.toLowerCase().trim();
                let foundResults = [];
                if (lowerCaseQuery.length === 0) {
                    this.finalSearchResults.innerHTML = `<p>Por favor, ingresa un término de búsqueda.</p>`;
                    return;
                }
                foundResults = this.searchableItems.filter(item =>
                    item.name.toLowerCase().includes(lowerCaseQuery) ||
                    (item.description && item.description.toLowerCase().includes(lowerCaseQuery))
                );
                if (foundResults.length > 0) {
                    let resultsHtml = `<p>Resultados para "<strong>${query}</strong>":</p><ul>`;
                    foundResults.forEach(result => {
                        resultsHtml += `<li><strong>${result.name}</strong> (${result.type || 'Elemento'}): ${result.description.substring(0, 100)}${result.description.length > 100 ? '...' : ''} <a href="javascript:void(0);" onclick="app.uiManager.openCategoryFullscreen('${result.id}'); app.searchManager.hideSearchUI();">Ver</a></li>`;
                    });
                    resultsHtml += `</ul>`;
                    this.finalSearchResults.innerHTML = resultsHtml;
                } else {
                    this.finalSearchResults.innerHTML = `<p>No se encontraron resultados para "<strong>${query}</strong>".</p>`;
                }
                this.searchResultsContainer.style.display = 'none'; // Hide suggestions after explicit search
            }
        }
        class AuthManager {
            constructor(uiManager) {
                this.uiManager = uiManager; // Inject UIManager
                this.welcomeBanner = document.getElementById('welcomeBanner');
                this.welcomeRegisterForm = document.getElementById('welcomeRegisterForm');
                this.welcomeLoginForm = document.getElementById('welcomeLoginForm');
                this.registerTab = document.getElementById('registerTab');
                this.loginTab = document.getElementById('loginTab');
                
                this.init();
            }
            init() {
                this.checkAuthStatus();
                
                this.welcomeRegisterForm.addEventListener('submit', (e) => this.handleRegister(e));
                this.welcomeLoginForm.addEventListener('submit', (e) => this.handleLogin(e));
                this.registerTab.addEventListener('click', () => this.showRegisterForm());
                this.loginTab.addEventListener('click', () => this.showLoginForm());
                
                this.loadTheme();
            }
            checkAuthStatus() {
                const isLoggedIn = localStorage.getItem('isLoggedIn');
                if (isLoggedIn === 'true') {
                    this.hideWelcomeBanner();
                } else {
                    this.showWelcomeBanner();
                    // Ensure register form is active by default if not logged in
                    this.showRegisterForm(); 
                }
            }
            showRegisterForm() {
                this.registerTab.classList.add('active');
                this.loginTab.classList.remove('active');
                this.welcomeRegisterForm.classList.add('active');
                this.welcomeLoginForm.classList.remove('active');
            }
            showLoginForm() {
                this.loginTab.classList.add('active');
                this.registerTab.classList.remove('active');
                this.welcomeRegisterForm.classList.remove('active');
                this.welcomeLoginForm.classList.add('active');
            }
            handleRegister(e) {
                e.preventDefault();
                console.log("[AuthManager] Manejando registro.");
                
                const formData = {
                    name: document.getElementById('welcomeName').value,
                    email: document.getElementById('welcomeEmail').value,
                    password: document.getElementById('welcomePassword').value,
                    age: document.getElementById('welcomeAge').value,
                    gender: document.getElementById('welcomeGender').value
                };
                
                if (!document.getElementById('welcomeTerms').checked) {
                    this.uiManager.showNotification('Error', 'Debes aceptar los términos y condiciones', 'error');
                    return;
                }
                
                localStorage.setItem('userData', JSON.stringify(formData));
                localStorage.setItem('isLoggedIn', 'true');
                
                this.uiManager.showNotification('¡Bienvenido!', `Cuenta creada exitosamente para ${formData.name}`, 'success');
                
                setTimeout(() => {
                    this.hideWelcomeBanner();
                }, 2000);
            }
            handleLogin(e) {
                e.preventDefault();
                console.log("[AuthManager] Manejando inicio de sesión.");
                
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                const userData = JSON.parse(localStorage.getItem('userData'));
                if (userData && userData.email === email && userData.password === password) {
                    localStorage.setItem('isLoggedIn', 'true');
                    this.uiManager.showNotification('¡Bienvenido de vuelta!', `Sesión iniciada como ${userData.name}`, 'success');
                    setTimeout(() => {
                        this.hideWelcomeBanner();
                    }, 2000);
                } else {
                    this.uiManager.showNotification('Error', 'Credenciales incorrectas', 'error');
                }
            }
            showWelcomeBanner() {
                console.log("[AuthManager] Mostrando banner de bienvenida.");
                this.welcomeBanner.classList.remove('hidden');
                this.welcomeBanner.style.display = 'flex';
            }
            hideWelcomeBanner() {
                console.log("[AuthManager] Ocultando banner de bienvenida.");
                this.welcomeBanner.classList.add('hidden');
                setTimeout(() => {
                    this.welcomeBanner.style.display = 'none';
                }, 500);
            }
            loadTheme() {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') {
                    document.body.classList.add('light-mode');
                }
            }
        }
    </script>

<script>
// --- Buscador funcional ---
(function(){
    const searchUI = document.getElementById('mainSearchUI');
    if(!searchUI) return;
    const searchInput = document.getElementById('searchInput');
    const resultsContainer = document.getElementById('searchResultsContainer');
    const finalResults = document.getElementById('finalSearchResults');
    const closeBtn = document.querySelector('#mainSearchUI .close-search-ui-btn');

    function openSearchUI(){ searchUI.classList.add('show'); if(searchInput){ searchInput.value=''; searchInput.focus(); } if(resultsContainer) resultsContainer.style.display='none'; if(finalResults) finalResults.innerHTML=''; }

    // Bind any header search buttons to open search UI
    document.querySelectorAll('.header-button.search, .btn-search, .open-search, .search-trigger').forEach(b=> b.addEventListener('click', (e)=>{ e.preventDefault(); openSearchUI(); }));

    if(closeBtn) closeBtn.addEventListener('click', ()=>{ searchUI.classList.remove('show'); });

    // Build index of searchable items
    function buildIndex(){
        const items = [];
        const selectors = ['.category-card', '.feature-card', '.service-card', '.swiper-slide', '.social-icon', '.quick-access-btn', '.program-card', '.station-item', '.more-menu-item'];
        selectors.forEach(sel => {
            document.querySelectorAll(sel).forEach(el => {
                let title = '';
                const t = el.querySelector('.category-title, .program-title, h4, .swiper-slide-title, .quick-access-text, .station-item-name, .more-menu-item');
                if(t) title = t.textContent.trim();
                if(!title) title = el.textContent.trim().split('\n')[0] || '';
                if(title) items.push({el, title, text: el.textContent.trim()});
            });
        });
        // include nav links and standalone anchors
        document.querySelectorAll('a').forEach(a=>{
            const txt = a.textContent.trim();
            if(txt && txt.length>1) items.push({el:a, title:txt, text: a.getAttribute('title') || a.href || a.textContent});
        });
        return items;
    }

    let index = buildIndex();

    function renderSuggestions(matches){
        if(!resultsContainer) return;
        resultsContainer.innerHTML = '';
        if(matches.length===0){ resultsContainer.style.display='none'; return; }
        resultsContainer.style.display='block';
        matches.slice(0,10).forEach(m => {
            const div = document.createElement('div');
            div.className = 'search-suggestion-item';
            div.innerHTML = '<strong>'+m.title+'</strong><small>'+ (m.text.length>100? m.text.slice(0,100)+'...': m.text) +'</small>';
            div.addEventListener('click', ()=>{
                if(m.el instanceof HTMLAnchorElement && m.el.href){ window.open(m.el.href, '_blank'); }
                else { m.el.scrollIntoView({behavior:'smooth', block:'center'}); }
                searchUI.classList.remove('show');
            });
            resultsContainer.appendChild(div);
        });
    }

    if(searchInput){
        searchInput.addEventListener('input', function(){
            const q = this.value.trim().toLowerCase();
            if(q.length<1){ if(resultsContainer) resultsContainer.style.display='none'; return; }
            const matches = index.filter(item => (item.title||'').toLowerCase().includes(q) || (item.text||'').toLowerCase().includes(q));
            renderSuggestions(matches);
        });
    }

    const searchButton = document.getElementById('searchButton');
    if(searchButton){
        searchButton.addEventListener('click', function(){
            const q = (searchInput.value||'').trim().toLowerCase();
            if(!q) return;
            const matches = index.filter(item => (item.title||'').toLowerCase().includes(q) || (item.text||'').toLowerCase().includes(q));
            if(finalResults){
                finalResults.innerHTML = '<strong>Resultados ('+matches.length+')</strong><ul>' + matches.map(m => '<li>' + (m.title || 'Sin título') + ( (m.el && m.el.href)? ' <a href=\"'+m.el.href+'\" target=\"_blank\">Abrir</a>':'') + '</li>').join('') + '</ul>';
            }
        });
    }

    // Rebuild index after short delay to capture dynamically added content
    setTimeout(()=>{ index = buildIndex(); }, 1200);
    window.addEventListener('resize', ()=>{ index = buildIndex(); });
})();
</script>


<script>
(function(){
    const notifBtn = document.getElementById('notifButton');
    const notifModal = document.getElementById('notificationsModal');
    const notifList = document.getElementById('notificationsList');
    const notifCount = document.getElementById('notifCount');

    // Sample notifications array (you can replace with dynamic content)
    let notifications = [
        {id:1, type:'success', title:'Descarga completada', message:'QGIS 3.44 finalizó correctamente.', time:'2025-10-05T12:00:00Z', read:false},
        {id:2, type:'warning', title:'Sincronización fallida', message:'No se pudo sincronizar con el servidor externo.', time:'2025-10-04T08:30:00Z', read:false}
    ];

    function renderNotifications(){
        if(!notifList) return;
        notifList.innerHTML = '';
        notifications.sort((a,b)=> new Date(b.time)-new Date(a.time));
        notifications.forEach(n=>{
            const item = document.createElement('div');
            item.className = 'notification-item';
            item.style.cssText = 'display:flex;gap:10px;align-items:flex-start;padding:12px;border-radius:10px;background:var(--card-bg-color);border:1px solid rgba(255,255,255,0.03);';
            item.innerHTML = '<div style="width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;background:' + (n.type==='success'? 'linear-gradient(45deg,var(--primary-color),var(--secondary-color))' : (n.type==='error'? 'var(--danger-color)' : 'var(--accent-color)')) + '"><i class=\"fas fa-info-circle\"></i></div><div style=\"flex:1;\"><div style=\"font-weight:600;color:var(--text-color);\">'+n.title+'</div><div style=\"color:var(--muted-text);font-size:0.9rem;\">'+n.message+'</div><small style=\"color:var(--muted-text);font-size:0.75rem;margin-top:6px;\">'+timeAgo(n.time)+'</small></div>';
            notifList.appendChild(item);
        });
        updateCount();
    }

    function timeAgo(iso){
        const then = new Date(iso);
        const diff = Math.floor((Date.now() - then.getTime())/1000);
        if(diff < 60) return diff + 's';
        if(diff < 3600) return Math.floor(diff/60) + 'm';
        if(diff < 86400) return Math.floor(diff/3600) + 'h';
        return Math.floor(diff/86400) + 'd';
    }

    function updateCount(){
        const unread = notifications.filter(n=>!n.read).length;
        if(notifCount){
            if(unread>0){ notifCount.style.display='inline-block'; notifCount.textContent = unread; } else { notifCount.style.display='none'; }
        }
    }

    if(notifBtn) notifBtn.addEventListener('click', function(e){
        e.preventDefault();
        if(notifModal){
            notifModal.style.display = 'flex';
            notifModal.classList.add('show');
            renderNotifications();
        }
    });

    const closeBtn = document.getElementById('closeNotif');
    if(closeBtn) closeBtn.addEventListener('click', function(){ if(notifModal){ notifModal.style.display='none'; notifModal.classList.remove('show'); } });

    const clearBtn = document.getElementById('clearNotifications');
    if(clearBtn) clearBtn.addEventListener('click', function(){
        notifications = [];
        renderNotifications();
    });

    const markBtn = document.getElementById('markReadNotifications');
    if(markBtn) markBtn.addEventListener('click', function(){
        notifications.forEach(n=> n.read = true);
        renderNotifications();
    });

    // init
    renderNotifications();
})();
</script>

</body>
</html>